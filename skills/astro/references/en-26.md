# @astrojs/vercel and more

# @astrojs/vercel

> Learn how to use the @astrojs/vercel adapter to deploy your Astro project.

# @astrojs/vercel

  v9.0.4 [GitHub](https://github.com/withastro/astro/tree/main/packages/integrations/vercel/) [npm](https://www.npmjs.com/package/@astrojs/vercel) [Changelog](https://github.com/withastro/astro/tree/main/packages/integrations/vercel/CHANGELOG.md)

This adapter allows Astro to deploy your [on-demand rendered routes and features](https://docs.astro.build/en/guides/on-demand-rendering/) to [Vercel](https://www.vercel.com/), including [server islands](https://docs.astro.build/en/guides/server-islands/), [actions](https://docs.astro.build/en/guides/actions/), and [sessions](https://docs.astro.build/en/guides/sessions/).

If you‚Äôre using Astro as a static site builder, you only need this adapter if you are using additional Vercel services (e.g. [Vercel Web Analytics](https://vercel.com/docs/analytics), [Vercel Image Optimization](https://vercel.com/docs/image-optimization)). Otherwise, you do not need an adapter to deploy your static site.

Learn how to deploy your Astro site in our [Vercel deployment guide](https://docs.astro.build/en/guides/deploy/vercel/).

## Why Astro Vercel?

[Section titled ‚ÄúWhy Astro Vercel?‚Äù](#why-astro-vercel)

[Vercel](https://www.vercel.com/) is a deployment platform that allows you to host your site by connecting directly to your GitHub repository. This adapter enhances the Astro build process to prepare your project for deployment through Vercel.

## Installation

[Section titled ‚ÄúInstallation‚Äù](#installation)

Astro includes an `astro add` command to automate the setup of official integrations. If you prefer, you can [install integrations manually](#manual-install) instead.

Add the Vercel adapter to enable on-demand rendering in your Astro project with the following `astro add` command. This will install `@astrojs/vercel` and make the appropriate changes to your `astro.config.mjs` file in one step.

- [npm](#tab-panel-3040)
- [pnpm](#tab-panel-3041)
- [Yarn](#tab-panel-3042)

   Terminal window

```
npx astro add vercel
```

   Terminal window

```
pnpm astro add vercel
```

   Terminal window

```
yarn astro add vercel
```

Now, you can enable [on-demand rendering per page](https://docs.astro.build/en/guides/on-demand-rendering/#enabling-on-demand-rendering), or set your build output configuration to `output: 'server'` to [server-render all your pages by default](https://docs.astro.build/en/guides/on-demand-rendering/#server-mode).

### Manual Install

[Section titled ‚ÄúManual Install‚Äù](#manual-install)

First, add the `@astrojs/vercel` adapter to your project‚Äôs dependencies using your preferred package manager:

- [npm](#tab-panel-3043)
- [pnpm](#tab-panel-3044)
- [Yarn](#tab-panel-3045)

   Terminal window

```
npm install @astrojs/vercel
```

   Terminal window

```
pnpm add @astrojs/vercel
```

   Terminal window

```
yarn add @astrojs/vercel
```

Then, add the adapter to your `astro.config.*` file:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel(),});
```

## Usage

[Section titled ‚ÄúUsage‚Äù](#usage)   Find out more about [deploying your project to Vercel](https://docs.astro.build/en/guides/deploy/vercel/).

You can deploy by CLI (`vercel deploy`) or by connecting your new repo in the [Vercel Dashboard](https://vercel.com/). Alternatively, you can create a production build locally:

 Terminal window

```
astro buildvercel deploy --prebuilt
```

## Configuration

[Section titled ‚ÄúConfiguration‚Äù](#configuration)

To configure this adapter, pass an object to the `vercel()` function call in `astro.config.mjs`:

### webAnalytics

[Section titled ‚ÄúwebAnalytics‚Äù](#webanalytics)

**Type:** `VercelWebAnalyticsConfig`
 **Available for:** Serverless, Static

 **Added in:** `@astrojs/vercel@3.8.0`

With `@vercel/analytics@1.3.x` or earlier, you can set `webAnalytics: { enabled: true }` in your Astro config to inject Vercel‚Äôs tracking scripts into all of your pages.

For `@vercel/analytics@1.4.0` and later, use Vercel‚Äôs Analytics component to enable [Vercel Web Analytics](https://vercel.com/docs/concepts/analytics) instead.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel({    webAnalytics: {      enabled: true,    },  }),});
```

### imagesConfig

[Section titled ‚ÄúimagesConfig‚Äù](#imagesconfig)

**Type:** `VercelImageConfig`
 **Available for:** Serverless, Static

 **Added in:** `@astrojs/vercel@3.3.0`

Configuration options for [Vercel‚Äôs Image Optimization API](https://vercel.com/docs/concepts/image-optimization). See [Vercel‚Äôs image configuration documentation](https://vercel.com/docs/build-output-api/v3/configuration#images) for a complete list of supported parameters.

The `domains` and `remotePatterns` properties will automatically be filled using [the Astro correspondingimagesettings](https://docs.astro.build/en/reference/configuration-reference/#image-options).

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  output: 'static',  adapter: vercel({    imagesConfig: {      sizes: [320, 640, 1280],    },  }),});
```

### imageService

[Section titled ‚ÄúimageService‚Äù](#imageservice)

**Type:** `boolean`
 **Available for:** Serverless, Static

 **Added in:** `@astrojs/vercel@3.3.0`

When enabled, an [Image Service](https://docs.astro.build/en/reference/image-service-reference/) powered by the Vercel Image Optimization API will be automatically configured and used in production. In development, the image service specified by [devImageService](#devimageservice) will be used instead.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  output: 'static',  adapter: vercel({    imageService: true,  }),});
```

 src/pages/index.astro

```
---import { Image } from 'astro:assets';import astroLogo from '../assets/logo.png';---
<Image src={astroLogo} alt="My super logo!" />
<img  src="/_vercel/image?url=_astro/logo.hash.png&w=...&q=..."  alt="My super logo!"  loading="lazy"  decoding="async"  width="..."  height="..."/>
```

### devImageService

[Section titled ‚ÄúdevImageService‚Äù](#devimageservice)

**Type:** `'sharp' | string`
 **Default:** `sharp`
 **Available for:** Serverless, Static

 **Added in:** `@astrojs/vercel@3.8.0`

Allows you to configure which image service to use in development when [imageService](#imageservice) is enabled. This can be useful if you cannot install Sharp‚Äôs dependencies on your development machine, but using another image service like Squoosh would allow you to preview images in your dev environment. Build is unaffected and will always use Vercel‚Äôs Image Optimization.

It can also be set to any arbitrary value in order to use a custom image service instead of Astro‚Äôs built-in ones.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel({    imageService: true,    devImageService: 'sharp',  }),});
```

### isr

[Section titled ‚Äúisr‚Äù](#isr)

**Type:** `boolean | VercelISRConfig`
 **Default:** `false`
 **Available for:** Serverless

 **Added in:** `@astrojs/vercel@7.2.0`

Allows your project to be deployed as an [ISR (Incremental Static Regeneration)](https://vercel.com/docs/incremental-static-regeneration) function, which caches your on-demand rendered pages in the same way as prerendered pages after first request.

To enable this feature, set `isr` to true in your Vercel adapter configuration in `astro.config.mjs`:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel({    isr: true,  }),});
```

Note that ISR function requests do not include search params, similar to [requests](https://docs.astro.build/en/reference/api-reference/#request) in static mode.

#### ISR cache invalidation

[Section titled ‚ÄúISR cache invalidation‚Äù](#isr-cache-invalidation)

By default, an ISR function caches for the duration of your deployment. You can further control caching by setting an expiration time, or by excluding particular routes from caching entirely.

##### Time-based invalidation

[Section titled ‚ÄúTime-based invalidation‚Äù](#time-based-invalidation)

By default, when ISR is enabled, routes use [Vercel‚Äôs cache shielding](https://vercel.com/docs/incremental-static-regeneration#differences-between-isr-and-cache-control-headers) and any Cache-Control headers are ignored. Configuring an `expiration` value (in seconds) allows you to control how long routes are cached. This means Cache-Control directives set by your application are also respected.

The following example defines `expiration` to cache all pages on first request and save them for 1 day:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel({    isr: {      expiration: 60 * 60 * 24,    },  }),});
```

##### On-demand invalidation

[Section titled ‚ÄúOn-demand invalidation‚Äù](#on-demand-invalidation)

To programmatically invalidate cached pages, create a bypass token and provide it to the `isr` config:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({    adapter: vercel({        isr: {            // A secret random string that you create.            bypassToken: "005556d774a8",        }    })})
```

You can then invalidate a cached page by sending a HEAD or GET request to the page URL with the `x-prerender-revalidate` header set to your bypass token. See [Vercel‚Äôs on-demand ISR documentation](https://vercel.com/docs/build-output-api/v3/features#on-demand-incremental-static-regeneration-isr) for details.

##### Draft mode

[Section titled ‚ÄúDraft mode‚Äù](#draft-mode)

To bypass the ISR cache and render fresh content (e.g., for previewing unpublished CMS content), use [Vercel‚Äôs Draft mode](https://vercel.com/docs/build-output-api/v3/features#draft-mode). This requires [defining abypassToken](#on-demand-invalidation) in your configuration and reusing its value in your pages to [set a cookie](https://docs.astro.build/en/guides/on-demand-rendering/#cookies) named `__prerender_bypass`.

##### Excluding paths from caching

[Section titled ‚ÄúExcluding paths from caching‚Äù](#excluding-paths-from-caching)

Use the `exclude` option to prevent specific routes from being cached by ISR. These paths will always be rendered fresh on each request:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({    adapter: vercel({        isr: {            // Paths that will always be served fresh.            exclude: [                '/preview',                '/auth/[page]',                /^\/api\/.+/ // Regular expressions supported since @astrojs/vercel@v8.1.0            ]        }    })})
```

### includeFiles

[Section titled ‚ÄúincludeFiles‚Äù](#includefiles)

**Type:** `string[]`
 **Available for:** Serverless

Use this property to force files to be bundled with your function. This is helpful when you notice missing files.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel({    includeFiles: ['./my-data.json'],  }),});
```

### excludeFiles

[Section titled ‚ÄúexcludeFiles‚Äù](#excludefiles)

**Type:** `string[]`
 **Available for:** Serverless

Use this property to exclude any files from the bundling process that would otherwise be included.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel({    excludeFiles: ['./src/some_big_file.jpg'],  }),});
```

### maxDuration

[Section titled ‚ÄúmaxDuration‚Äù](#maxduration)

**Type:** `number`
 **Available for:** Serverless

Use this property to extend or limit the maximum duration (in seconds) that Serverless Functions can run before timing out. See the [Vercel documentation](https://vercel.com/docs/functions/serverless-functions/runtimes#maxduration) for the default and maximum limit for your account plan.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({// ...  adapter: vercel({    maxDuration: 60  }),});
```

### skewProtection

[Section titled ‚ÄúskewProtection‚Äù](#skewprotection)

**Type:** `boolean`
 **Available for:** Serverless

 **Added in:** `@astrojs/vercel@7.6.0`

Use this property to enable [Vercel Skew protection](https://vercel.com/docs/deployments/skew-protection) (available with Vercel Pro and Enterprise accounts).

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({// ...  adapter: vercel({    skewProtection: true  }),});
```

### Running Astro middleware on Vercel Edge Functions

[Section titled ‚ÄúRunning Astro middleware on Vercel Edge Functions‚Äù](#running-astro-middleware-on-vercel-edge-functions)

The `@astrojs/vercel` adapter can create an [edge function](https://vercel.com/docs/functions/edge-functions) from an Astro middleware in your code base. When `edgeMiddleware` is enabled, an edge function will execute your middleware code for all requests including static assets, prerendered pages, and on-demand rendered pages.

For on-demand rendered pages, the `context.locals` object is serialized using JSON and sent in a header for the serverless function, which performs the rendering. As a security measure, the serverless function will refuse to serve requests with a `403 Forbidden` response unless they come from the generated edge function.

This is an opt-in feature. To enable it, set `edgeMiddleware` to `true`:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  // ...  adapter: vercel({    edgeMiddleware: true,  }),});
```

The edge middleware has access to Vercel‚Äôs [RequestContext](https://vercel.com/docs/functions/edge-middleware/middleware-api#requestcontext) as `ctx.locals.vercel.edge`. If you‚Äôre using TypeScript, you can [get proper typings](https://docs.astro.build/en/guides/typescript/#extending-global-types) by updating `src/env.d.ts` to use `EdgeLocals`:

```
type EdgeLocals = import('@astrojs/vercel').EdgeLocals
declare namespace App {  interface Locals extends EdgeLocals {    // ...  }}
```

### Sessions

[Section titled ‚ÄúSessions‚Äù](#sessions)

The Astro [Sessions API](https://docs.astro.build/en/guides/sessions/) allows you to easily store user data between requests. This can be used for things like user data and preferences, shopping carts, and authentication credentials. Unlike cookie storage, there are no size limits on the data, and it can be restored on different devices.

When using sessions on Vercel, you need to [configure a driver](https://docs.astro.build/en/reference/configuration-reference/#sessiondriver) for session storage. You can install a storage provider from [the Vercel marketplace](https://vercel.com/marketplace?category=storage).

For example, if you have installed [a Redis integration](https://vercel.com/marketplace?category=storage&search=redis) and linked a database to your site:

1. Install the `ioredis` package:
  - [npm](#tab-panel-3046)
  - [pnpm](#tab-panel-3047)
  - [Yarn](#tab-panel-3048)
     Terminal window
  ```
  npm install ioredis
  ```
     Terminal window
  ```
  pnpm install ioredis
  ```
     Terminal window
  ```
  yarn add ioredis
  ```
2. Use [the Vercel CLI](https://vercel.com/docs/cli) to load your environment variables:
   Terminal window
  ```
  vercel env pull .env.local
  ```
  This will create a `.env.local` file in your project root with the environment variables needed to connect to your Redis database when developing locally.
3. Configure the session driver:
   astro.config.mjs
  ```
  import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
  export default defineConfig({  adapter: vercel(),  session: {    driver: 'redis',    options: {      url: process.env.REDIS_URL,    },  },});
  ```

## Node.js Version Support

[Section titled ‚ÄúNode.js Version Support‚Äù](#nodejs-version-support)

The `@astrojs/vercel` adapter supports specific Node.js versions for deploying your Astro project on Vercel. To view the supported Node.js versions on Vercel, click on the settings tab for a project and scroll down to ‚ÄúNode.js Version‚Äù section.

Check out the [Vercel documentation](https://vercel.com/docs/functions/serverless-functions/runtimes/node-js#default-and-available-versions) to learn more.

## Experimental features

[Section titled ‚ÄúExperimental features‚Äù](#experimental-features)

The following features are also available for use, but may be subject to breaking changes in future updates. Please follow the [@astrojs/vercelCHANGELOG](https://github.com/withastro/astro/tree/main/packages/integrations/vercel/CHANGELOG.md) carefully for updates if you are using these features in your project.

### experimentalStaticHeaders

[Section titled ‚ÄúexperimentalStaticHeaders‚Äù](#experimentalstaticheaders)

**Type:** `boolean`
 **Default:** `false`
 **Available for:** Serverless

 **Added in:** `@astrojs/vercel@8.2.0`

Enables specifying custom headers for prerendered pages in Vercel‚Äôs configuration.

If enabled, the adapter will save [static headers in the Vercelvercel.jsonfile](https://vercel.com/docs/project-configuration#headers) when provided by Astro features, such as Content Security Policy.

For example, when [experimental Content Security Policy](https://docs.astro.build/en/reference/experimental-flags/csp/) is enabled, `experimentalStaticHeaders` can be used to add the CSP `headers` to your Vercel configuration, instead of creating a `<meta>` element:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vercel from '@astrojs/vercel';
export default defineConfig({  experimental: {    csp: true  },  adapter: vercel({    experimentalStaticHeaders: true  })});
```

## More integrations

### Front-end frameworks

- ![](https://docs.astro.build/logos/alpine-js.svg)
  ### @astrojs/alpinejs
- ![](https://docs.astro.build/logos/preact.svg)
  ### @astrojs/preact
- ![](https://docs.astro.build/logos/react.svg)
  ### @astrojs/react
- ![](https://docs.astro.build/logos/solid.svg)
  ### @astrojs/solid‚Å†-‚Å†js
- ![](https://docs.astro.build/logos/svelte.svg)
  ### @astrojs/svelte
- ![](https://docs.astro.build/logos/vue.svg)
  ### @astrojs/vue

### Adapters

- ![](https://docs.astro.build/logos/cloudflare-pages.svg)
  ### @astrojs/cloudflare
- ![](https://docs.astro.build/logos/netlify.svg)
  ### @astrojs/netlify
- ![](https://docs.astro.build/logos/node.svg)
  ### @astrojs/node
- ![](https://docs.astro.build/logos/vercel.svg)
  ### @astrojs/vercel

### Other integrations

- ![](https://docs.astro.build/logos/db.svg)
  ### @astrojs/db
- ![](https://docs.astro.build/logos/markdoc.svg)
  ### @astrojs/markdoc
- ![](https://docs.astro.build/logos/mdx.svg)
  ### @astrojs/mdx
- ![](https://docs.astro.build/logos/partytown.svg)
  ### @astrojs/partytown
- ![](https://docs.astro.build/logos/sitemap.svg)
  ### @astrojs/sitemap

  Learn     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# @astrojs/vue

> Learn how to use the @astrojs/vue framework integration to extend component support in your Astro project.

# @astrojs/vue

  v5.1.4 [GitHub](https://github.com/withastro/astro/tree/main/packages/integrations/vue/) [npm](https://www.npmjs.com/package/@astrojs/vue) [Changelog](https://github.com/withastro/astro/tree/main/packages/integrations/vue/CHANGELOG.md)

This **Astro integration** enables rendering and client-side hydration for your [Vue 3](https://vuejs.org/) components.

## Installation

[Section titled ‚ÄúInstallation‚Äù](#installation)

Astro includes an `astro add` command to automate the setup of official integrations. If you prefer, you can [install integrations manually](#manual-install) instead.

To install `@astrojs/vue`, run the following from your project directory and follow the prompts:

- [npm](#tab-panel-3049)
- [pnpm](#tab-panel-3050)
- [Yarn](#tab-panel-3051)

   Terminal window

```
npx astro add vue
```

   Terminal window

```
pnpm astro add vue
```

   Terminal window

```
yarn astro add vue
```

If you run into any issues, [feel free to report them to us on GitHub](https://github.com/withastro/astro/issues) and try the manual installation steps below.

### Manual Install

[Section titled ‚ÄúManual Install‚Äù](#manual-install)

First, install the `@astrojs/vue` package:

- [npm](#tab-panel-3052)
- [pnpm](#tab-panel-3053)
- [Yarn](#tab-panel-3054)

   Terminal window

```
npm install @astrojs/vue
```

   Terminal window

```
pnpm add @astrojs/vue
```

   Terminal window

```
yarn add @astrojs/vue
```

Most package managers will install associated peer dependencies as well. If you see a `Cannot find package 'vue'` (or similar) warning when you start up Astro, you‚Äôll need to install Vue:

- [npm](#tab-panel-3055)
- [pnpm](#tab-panel-3056)
- [Yarn](#tab-panel-3057)

   Terminal window

```
npm install vue
```

   Terminal window

```
pnpm add vue
```

   Terminal window

```
yarn add vue
```

Then, apply the integration to your `astro.config.*` file using the `integrations` property:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vue from '@astrojs/vue';
export default defineConfig({  // ...  integrations: [vue()],});
```

## Getting started

[Section titled ‚ÄúGetting started‚Äù](#getting-started)

To use your first Vue component in Astro, head to our [UI framework documentation](https://docs.astro.build/en/guides/framework-components/#using-framework-components). You‚Äôll explore:

- üì¶ how framework components are loaded,
- üíß client-side hydration options, and
- ü§ù opportunities to mix and nest frameworks together

## Troubleshooting

[Section titled ‚ÄúTroubleshooting‚Äù](#troubleshooting)

For help, check out the `#support` channel on [Discord](https://astro.build/chat). Our friendly Support Squad members are here to help!

You can also check our [Astro Integration Documentation](https://docs.astro.build/en/guides/integrations-guide/) for more on integrations.

## Contributing

[Section titled ‚ÄúContributing‚Äù](#contributing)

This package is maintained by Astro‚Äôs Core team. You‚Äôre welcome to submit an issue or PR!

## Options

[Section titled ‚ÄúOptions‚Äù](#options)

This integration is powered by `@vitejs/plugin-vue`. To customize the Vue compiler, options can be provided to the integration. See the `@vitejs/plugin-vue` [docs](https://www.npmjs.com/package/@vitejs/plugin-vue) for more details.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vue from '@astrojs/vue';
export default defineConfig({  // ...  integrations: [    vue({      template: {        compilerOptions: {          // treat any tag that starts with ion- as custom elements          isCustomElement: (tag) => tag.startsWith('ion-'),        },      },      // ...    }),  ],});
```

### appEntrypoint

[Section titled ‚ÄúappEntrypoint‚Äù](#appentrypoint)

**Type:** `string`

 **Added in:** `@astrojs/vue@1.2.0`

You can extend the Vue `app` instance setting the `appEntrypoint` option to a root-relative import specifier (for example, `appEntrypoint: "/src/pages/_app"`).

The default export of this file should be a function that accepts a Vue `App` instance prior to rendering, allowing the use of [custom Vue plugins](https://vuejs.org/guide/reusability/plugins.html), `app.use`, and other customizations for advanced use cases.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vue from '@astrojs/vue';
export default defineConfig({  // ...  integrations: [vue({ appEntrypoint: '/src/pages/_app' })],});
```

 src/pages/_app.ts

```
import type { App } from 'vue';import i18nPlugin from 'my-vue-i18n-plugin';
export default (app: App) => {  app.use(i18nPlugin);};
```

### jsx

[Section titled ‚Äújsx‚Äù](#jsx)

**Type:** `boolean | object`

 **Added in:** `@astrojs/vue@1.2.0`

You can use Vue JSX by setting `jsx: true`.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vue from '@astrojs/vue';
export default defineConfig({  // ...  integrations: [vue({ jsx: true })],});
```

This will enable rendering for both Vue and Vue JSX components. To customize the Vue JSX compiler, pass an options object instead of a boolean. See the `@vitejs/plugin-vue-jsx` [docs](https://www.npmjs.com/package/@vitejs/plugin-vue-jsx) for more details.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vue from '@astrojs/vue';
export default defineConfig({  // ...  integrations: [    vue({      jsx: {        // treat any tag that starts with ion- as custom elements        isCustomElement: (tag) => tag.startsWith('ion-'),      },    }),  ],});
```

### devtools

[Section titled ‚Äúdevtools‚Äù](#devtools)

**Type:** `boolean | object`

 **Added in:** `@astrojs/vue@4.2.0`

You can enable [Vue DevTools](https://devtools-next.vuejs.org/) in development by passing an object with `devtools: true` to your `vue()` integration config:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import vue from '@astrojs/vue';
export default defineConfig({  // ...  integrations: [vue({ devtools: true })],});
```

#### Customizing Vue DevTools

[Section titled ‚ÄúCustomizing Vue DevTools‚Äù](#customizing-vue-devtools)

**Added in:** `@astrojs/vue@4.3.0`

For more customization, you can instead pass options that the [Vue DevTools Vite Plugin](https://devtools-next.vuejs.org/guide/vite-plugin#options) supports. (Note: `appendTo` is not supported.)

For example, you can set `launchEditor` to your preferred editor if you are not using Visual Studio Code:

 astro.config.mjs

```
import { defineConfig } from "astro/config";import vue from "@astrojs/vue";
export default defineConfig({  // ...  integrations: [    vue({      devtools: { launchEditor: "webstorm" },    }),  ],});
```

## More integrations

### Front-end frameworks

- ![](https://docs.astro.build/logos/alpine-js.svg)
  ### @astrojs/alpinejs
- ![](https://docs.astro.build/logos/preact.svg)
  ### @astrojs/preact
- ![](https://docs.astro.build/logos/react.svg)
  ### @astrojs/react
- ![](https://docs.astro.build/logos/solid.svg)
  ### @astrojs/solid‚Å†-‚Å†js
- ![](https://docs.astro.build/logos/svelte.svg)
  ### @astrojs/svelte
- ![](https://docs.astro.build/logos/vue.svg)
  ### @astrojs/vue

### Adapters

- ![](https://docs.astro.build/logos/cloudflare-pages.svg)
  ### @astrojs/cloudflare
- ![](https://docs.astro.build/logos/netlify.svg)
  ### @astrojs/netlify
- ![](https://docs.astro.build/logos/node.svg)
  ### @astrojs/node
- ![](https://docs.astro.build/logos/vercel.svg)
  ### @astrojs/vercel

### Other integrations

- ![](https://docs.astro.build/logos/db.svg)
  ### @astrojs/db
- ![](https://docs.astro.build/logos/markdoc.svg)
  ### @astrojs/markdoc
- ![](https://docs.astro.build/logos/mdx.svg)
  ### @astrojs/mdx
- ![](https://docs.astro.build/logos/partytown.svg)
  ### @astrojs/partytown
- ![](https://docs.astro.build/logos/sitemap.svg)
  ### @astrojs/sitemap

  Learn     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Add Integrations

> Learn how to add integrations to your Astro project.

# Add Integrations

**Astro integrations** add new functionality and behaviors for your project with only a few lines of code. You can use an official integration, [integrations built by the community](#finding-more-integrations) or even [build a custom integration yourself](#building-your-own-integration).

Integrations can‚Ä¶

- Unlock React, Vue, Svelte, Solid, and other popular UI frameworks with a [renderer](https://docs.astro.build/en/guides/framework-components/).
- Enable on-demand rendering with an [SSR adapter](https://docs.astro.build/en/guides/on-demand-rendering/).
- Integrate tools like MDX, and Partytown with a few lines of code.
- Add new features to your project, like automatic sitemap generation.
- Write custom code that hooks into the build process, dev server, and more.

## Official Integrations

[Section titled ‚ÄúOfficial Integrations‚Äù](#official-integrations)

The following integrations are maintained by Astro.

### Front-end frameworks

- ![](https://docs.astro.build/logos/alpine-js.svg)
  ### @astrojs/alpinejs
- ![](https://docs.astro.build/logos/preact.svg)
  ### @astrojs/preact
- ![](https://docs.astro.build/logos/react.svg)
  ### @astrojs/react
- ![](https://docs.astro.build/logos/solid.svg)
  ### @astrojs/solid‚Å†-‚Å†js
- ![](https://docs.astro.build/logos/svelte.svg)
  ### @astrojs/svelte
- ![](https://docs.astro.build/logos/vue.svg)
  ### @astrojs/vue

### Adapters

- ![](https://docs.astro.build/logos/cloudflare-pages.svg)
  ### @astrojs/cloudflare
- ![](https://docs.astro.build/logos/netlify.svg)
  ### @astrojs/netlify
- ![](https://docs.astro.build/logos/node.svg)
  ### @astrojs/node
- ![](https://docs.astro.build/logos/vercel.svg)
  ### @astrojs/vercel

### Other integrations

- ![](https://docs.astro.build/logos/db.svg)
  ### @astrojs/db
- ![](https://docs.astro.build/logos/markdoc.svg)
  ### @astrojs/markdoc
- ![](https://docs.astro.build/logos/mdx.svg)
  ### @astrojs/mdx
- ![](https://docs.astro.build/logos/partytown.svg)
  ### @astrojs/partytown
- ![](https://docs.astro.build/logos/sitemap.svg)
  ### @astrojs/sitemap

## Automatic Integration Setup

[Section titled ‚ÄúAutomatic Integration Setup‚Äù](#automatic-integration-setup)

Astro includes an `astro add` command to automate the setup of official integrations. Several community plugins can also be added using this command. Please check each integration‚Äôs own documentation to see whether `astro add` is supported, or whether you must [install manually](#manual-installation).

Run the `astro add` command using the package manager of your choice and our automatic integration wizard will update your configuration file and install any necessary dependencies.

- [npm](#tab-panel-2941)
- [pnpm](#tab-panel-2942)
- [Yarn](#tab-panel-2943)

   Terminal window

```
npx astro add react
```

   Terminal window

```
pnpm astro add react
```

   Terminal window

```
yarn astro add react
```

It‚Äôs even possible to add multiple integrations at the same time!

- [npm](#tab-panel-2944)
- [pnpm](#tab-panel-2945)
- [Yarn](#tab-panel-2946)

   Terminal window

```
npx astro add react sitemap partytown
```

   Terminal window

```
pnpm astro add react sitemap partytown
```

   Terminal window

```
yarn astro add react sitemap partytown
```

### Manual Installation

[Section titled ‚ÄúManual Installation‚Äù](#manual-installation)

Astro integrations are always added through the `integrations` property in your `astro.config.mjs` file.

There are three common ways to import an integration into your Astro project:

1. [Install an npm package integration](#installing-an-npm-package).
2. Import your own integration from a local file inside your project.
3. Write your integration inline, directly in your config file.
   astro.config.mjs
  ```
  import { defineConfig } from 'astro/config';import installedIntegration from '@astrojs/vue';import localIntegration from './my-integration.js';
  export default defineConfig({  integrations: [    // 1. Imported from an installed npm package    installedIntegration(),    // 2. Imported from a local JS file    localIntegration(),    // 3. An inline object    {name: 'namespace:id', hooks: { /* ... */ }},  ]});
  ```

Check out the [Integration API](https://docs.astro.build/en/reference/integrations-reference/) reference to learn all of the different ways that you can write an integration.

#### Installing an NPM package

[Section titled ‚ÄúInstalling an NPM package‚Äù](#installing-an-npm-package)

Install an NPM package integration using a package manager, and then update `astro.config.mjs` manually.

For example, to install the `@astrojs/sitemap` integration:

1. Install the integration to your project dependencies using your preferred package manager:
  - [npm](#tab-panel-2950)
  - [pnpm](#tab-panel-2951)
  - [Yarn](#tab-panel-2952)
     Terminal window
  ```
  npm install @astrojs/sitemap
  ```
     Terminal window
  ```
  pnpm add @astrojs/sitemap
  ```
     Terminal window
  ```
  yarn add @astrojs/sitemap
  ```
2. Import the integration to your `astro.config.mjs` file, and add it to your `integrations[]` array, along with any configuration options:
   astro.config.mjs
  ```
  import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
  export default defineConfig({  // ...  integrations: [sitemap()],  // ...});
  ```
  Note that different integrations may have different configuration settings. Read each integration‚Äôs documentation, and apply any necessary config options to your chosen integration in `astro.config.mjs`.

### Custom Options

[Section titled ‚ÄúCustom Options‚Äù](#custom-options)

Integrations are almost always authored as factory functions that return the actual integration object. This lets you pass arguments and options to the factory function that customize the integration for your project.

```
integrations: [  // Example: Customize your integration with function arguments  sitemap({filter: true})]
```

### Toggle an Integration

[Section titled ‚ÄúToggle an Integration‚Äù](#toggle-an-integration)

Falsy integrations are ignored, so you can toggle integrations on & off without worrying about left-behind `undefined` and boolean values.

```
integrations: [  // Example: Skip building a sitemap on Windows  process.platform !== 'win32' && sitemap()]
```

## Upgrading Integrations

[Section titled ‚ÄúUpgrading Integrations‚Äù](#upgrading-integrations)

To upgrade all official integrations at once, run the `@astrojs/upgrade` command. This will upgrade both Astro and all official integrations to their latest versions.

### Automatic Upgrading

[Section titled ‚ÄúAutomatic Upgrading‚Äù](#automatic-upgrading)

- [npm](#tab-panel-2953)
- [pnpm](#tab-panel-2954)
- [Yarn](#tab-panel-2955)

   Terminal window

```
# Upgrade Astro and official integrations together to latestnpx @astrojs/upgrade
```

   Terminal window

```
# Upgrade Astro and official integrations together to latestpnpm dlx @astrojs/upgrade
```

   Terminal window

```
# Upgrade Astro and official integrations together to latestyarn dlx @astrojs/upgrade
```

### Manual Upgrading

[Section titled ‚ÄúManual Upgrading‚Äù](#manual-upgrading)

To upgrade one or more integrations manually, use the appropriate command for your package manager.

- [npm](#tab-panel-2956)
- [pnpm](#tab-panel-2957)
- [Yarn](#tab-panel-2958)

   Terminal window

```
# Example: upgrade React and Partytown integrationsnpm install @astrojs/react@latest @astrojs/partytown@latest
```

   Terminal window

```
# Example: upgrade React and Partytown integrationspnpm add @astrojs/react@latest @astrojs/partytown@latest
```

   Terminal window

```
# Example: upgrade React and Partytown integrationsyarn add @astrojs/react@latest @astrojs/partytown@latest
```

## Removing an Integration

[Section titled ‚ÄúRemoving an Integration‚Äù](#removing-an-integration)

1. To remove an integration, first uninstall the integration from your project.
  - [npm](#tab-panel-2959)
  - [pnpm](#tab-panel-2960)
  - [Yarn](#tab-panel-2961)
     Terminal window
  ```
  npm uninstall @astrojs/react
  ```
     Terminal window
  ```
  pnpm remove @astrojs/react
  ```
     Terminal window
  ```
  yarn remove @astrojs/react
  ```
2. Next, remove the integration from your `astro.config.*` file:
   astro.config.mjs
  ```
  import { defineConfig } from 'astro/config';
  import react from '@astrojs/react';
  export default defineConfig({  integrations: [    react()  ]});
  ```

## Finding More Integrations

[Section titled ‚ÄúFinding More Integrations‚Äù](#finding-more-integrations)

You can find many integrations developed by the community in the [Astro Integrations Directory](https://astro.build/integrations/). Follow links there for detailed usage and configuration instructions.

## Building Your Own Integration

[Section titled ‚ÄúBuilding Your Own Integration‚Äù](#building-your-own-integration)

Astro‚Äôs Integration API is inspired by Rollup and Vite, and designed to feel familiar to anyone who has ever written a Rollup or Vite plugin before.

Check out the [Integration API](https://docs.astro.build/en/reference/integrations-reference/) reference to learn what integrations can do and how to write one yourself.

 Learn     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)
