# Drupal & Astro and more

# Drupal & Astro

> Add content to your Astro project using Drupal as a CMS

# Drupal & Astro

[Drupal](https://www.drupal.org/) is an open-source content management tool.

## Prerequisites

[Section titled “Prerequisites”](#prerequisites)

To get started, you will need to have the following:

1. **An Astro project** - If you don’t have an Astro project yet, our [Installation guide](https://docs.astro.build/en/install-and-setup/) will get you up and running in no time.
2. **A Drupal site** - If you haven’t set up a Drupal site, you can follow the official guidelines [Installing Drupal](https://www.drupal.org/docs/getting-started/installing-drupal).

## Integrating Drupal with Astro

[Section titled “Integrating Drupal with Astro”](#integrating-drupal-with-astro)

### Installing the JSON:API Drupal module

[Section titled “Installing the JSON:API Drupal module”](#installing-the-jsonapi-drupal-module)

To be able to get content from Drupal you need to enable the [Drupal JSON:API module](https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module).

1. Navigate to the Extend page `admin/modules` via the Manage administrative menu
2. Locate the JSON:API module and check the box next to it
3. Click Install to install the new module

Now you can make `GET` requests to your Drupal application through JSON:API.

### Adding the Drupal URL in.env

[Section titled “Adding the Drupal URL in .env”](#adding-the-drupal-url-in-env)

To add your Drupal URL to Astro, create a `.env` file in the root of your project (if one does not already exist) and add the following variable:

 .env

```
DRUPAL_BASE_URL="https://drupal.ddev.site/"
```

Restart the dev server to use this environment variable in your Astro project.

### Setting up Credentials

[Section titled “Setting up Credentials”](#setting-up-credentials)

By default, the Drupal JSON:API endpoint is accessible for external data-fetching requests without requiring authentication. This allows you to fetch data for your Astro project without credentials but it does not permit users to modify your data or site settings.

However, if you wish to restrict access and require authentication, Drupal provides [several authentication methods](https://www.drupal.org/docs/contributed-modules/api-authentication) including:

- [Basic Authentication](https://www.drupal.org/docs/contributed-modules/api-authentication/setup-basic-authentication)
- [API Key-based authentication](https://www.drupal.org/docs/contributed-modules/api-authentication/api-key-authentication)
- [Access Token/OAuth-based authentication](https://www.drupal.org/docs/contributed-modules/api-authentication/setup-access-token-oauth-based-authentication)
- [JWT Token-based authentication](https://www.drupal.org/docs/contributed-modules/api-authentication/jwt-authentication)
- [Third-Party Provider token authentication](https://www.drupal.org/docs/contributed-modules/api-authentication/rest-api-authentication-using-external-identity-provider)

You can add your credentials to your `.env` file.

 .env

```
DRUPAL_BASIC_USERNAME="editor"DRUPAL_BASIC_PASSWORD="editor"DRUPAL_JWT_TOKEN="abc123"...
```

   Read more about [using environment variables](https://docs.astro.build/en/guides/environment-variables/) and `.env` files in Astro.

Your root directory should now include this new files:

- **.env**
- astro.config.mjs
- package.json

### Installing dependencies

[Section titled “Installing dependencies”](#installing-dependencies)

JSON:API requests and responses can often be complex and deeply nested. To simplify working with them, you can use two npm packages that streamline both the requests and the handling of responses:

- [JSONA](https://www.npmjs.com/package/jsona): JSON API v1.0 specification serializer and deserializer for use on the server and in the browser.
- [Drupal JSON-API Params](https://www.npmjs.com/package/drupal-jsonapi-params): This module provides a helper Class to create the required query. While doing so, it also tries to optimise the query by using the short form, whenever possible.

- [npm](#tab-panel-2765)
- [pnpm](#tab-panel-2766)
- [Yarn](#tab-panel-2767)

   Terminal window

```
npm install jsona drupal-jsonapi-params
```

   Terminal window

```
pnpm add jsona drupal-jsonapi-params
```

   Terminal window

```
yarn add jsona drupal-jsonapi-params
```

## Fetching data from Drupal

[Section titled “Fetching data from Drupal”](#fetching-data-from-drupal)

Your content is fetched from a JSON:API URL.

### Drupal JSON:API URL structure

[Section titled “Drupal JSON:API URL structure”](#drupal-jsonapi-url-structure)

The basic URL structure is: `/jsonapi/{entity_type_id}/{bundle_id}`

The URL is always prefixed by `jsonapi`.

- The `entity_type_id` refers to the Entity Type, such as node, block, user, etc.
- The `bundle_id` refers to the Entity Bundles. In the case of a Node entity type, the bundle could be article.
- In this case, to get the list of all articles, the URL will be `[DRUPAL_BASE_URL]/jsonapi/node/article`.

To retrieve an individual entity, the URL structure will be `/jsonapi/{entity_type_id}/{bundle_id}/{uuid}`, where the uuid is the UUID of the entity. For example the URL to get a specific article will be of the form `/jsonapi/node/article/2ee9f0ef-1b25-4bbe-a00f-8649c68b1f7e`.

#### Retrieving only certain fields

[Section titled “Retrieving only certain fields”](#retrieving-only-certain-fields)

Retrieve only certain field by adding the Query String field to the request.

GET: `/jsonapi/{entity_type_id}/{bundle_id}?field[entity_type]=field_list`

Examples:

- `/jsonapi/node/article?fields[node--article]=title,created`
- `/jsonapi/node/article/2ee9f0ef-1b25-4bbe-a00f-8649c68b1f7e?fields[node--article]=title,created,body`

#### Filtering

[Section titled “Filtering”](#filtering)

Add a filter to your request by adding the filter Query String.

The simplest, most common filter is a key-value filter:

GET: `/jsonapi/{entity_type_id}/{bundle_id}?filter[field_name]=value&filter[field_other]=value`

Examples:

- `/jsonapi/node/article?filter[title]=Testing JSON:API&filter[status]=1`
- `/jsonapi/node/article/2ee9f0ef-1b25-4bbe-a00f-8649c68b1f7e?fields[node--article]=title&filter[title]=Testing JSON:API`

You can find more query options in the [JSON:API Documentation](https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module).

### Building a Drupal query

[Section titled “Building a Drupal query”](#building-a-drupal-query)

Astro components can fetch data from your Drupal site by using `drupal-jsonapi-params` package to build the query.

The following example shows a component with a query for an “article” content type that has a text field for a title and a rich text field for content:

```
---import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
// Get the Drupal base URLexport const baseUrl: string = import.meta.env.DRUPAL_BASE_URL;
// Generate the JSON:API Query. Get all title and body from published articles.const params: DrupalJsonApiParams = new DrupalJsonApiParams();params.addFields("node--article", [        "title",        "body",    ])    .addFilter("status", "1");// Generates the query string.const path: string = params.getQueryString();const url: string = baseUrl + '/jsonapi/node/article?' + path;
// Get the articlesconst request: Response = await fetch(url);const json: string | TJsonApiBody = await request.json();// Initiate Jsona.const dataFormatter: Jsona = new Jsona();// Deserialise the response.const articles = dataFormatter.deserialize(json);---<body> {articles?.length ? articles.map((article: any) => (    <section>      <h2>{article.title}</h2>      <article set:html={article.body.value}></article>    </section> )): <div><h1>No Content found</h1></div> }</body>
```

You can find more querying options in the [Drupal JSON:API Documentation](https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module/jsonapi)

## Making a blog with Astro and Drupal

[Section titled “Making a blog with Astro and Drupal”](#making-a-blog-with-astro-and-drupal)

With the setup above, you are now able to create a blog that uses Drupal as the CMS.

### Prerequisites

[Section titled “Prerequisites”](#prerequisites-1)

1. **An Astro project** with [JSONA](https://www.npmjs.com/package/jsona) and [Drupal JSON-API Params](https://www.npmjs.com/package/drupal-jsonapi-params) installed.
2. **A Drupal site with at least one entry** - For this tutorial we recommend starting with a new Drupal site with Standard installation.
  In the **Content** section of your Drupal site, create a new entry by clicking the **Add** button. Then, choose Article and fill in the fields:
  - **Title:** `My first article for Astro!`
  - **Alias:** `/articles/first-article-for astro`
  - **Description:** `This is my first Astro article! Let's see what it will look like!`
  Click **Save** to create your first Article. Feel free to add as many articles as you want.

### Displaying a list of articles

[Section titled “Displaying a list of articles”](#displaying-a-list-of-articles)

1. Create `src/types.ts` if it does not already exist and add two new interfaces called `DrupalNode` and `Path` with the following code. These interfaces will match the fields of your article content type in Drupal and the Path fields. You will use it to type your article entries response.
   src/types.ts
  ```
  export interface Path {    alias: string    pid: number    langcode: string}
  export interface DrupalNode extends Record<string, any> {    id: string    type: string    langcode: string    status: boolean    drupal_internal__nid: number    drupal_internal__vid: number    changed: string    created: string    title: string    default_langcode: boolean    sticky: boolean    path: Path}
  ```
  Your src directory should now include the new file:
  - .env
  - astro.config.mjs
  - package.json
  - Directorysrc/
    - **types.ts**
2. Create a new file called `drupal.ts` under `src/api` and add the following code:
   src/api/drupal.ts
  ```
  import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {DrupalNode} from "../types.ts";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  // Get the Drupal Base Url.export const baseUrl: string = import.meta.env.DRUPAL_BASE_URL;
  ```
  This will import the required libraries such as `Jsona` to deserialize the response, `DrupalJsonApiParams` to format the request url and the Node and Jsona types. It will also get the `baseUrl` from the `.env` file.
  Your src/api directory should now include the new file:
  - .env
  - astro.config.mjs
  - package.json
  - Directorysrc/
    - Directoryapi/
      - **drupal.ts**
    - types.ts
3. In that same file, create the `fetchUrl` function to make the fetch request and deserialize the response.
   src/api/drupal.ts
  ```
  import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {DrupalNode} from "../types.ts";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  // Get the Drupal Base Url.export const baseUrl: string = import.meta.env.DRUPAL_BASE_URL;
  /** * Fetch url from Drupal. * * @param url * * @return Promise<TJsonaModel | TJsonaModel[]> as Promise<any> */export const fetchUrl = async (url: string): Promise<any> => {    const request: Response = await fetch(url);    const json: string | TJsonApiBody = await request.json();    const dataFormatter: Jsona = new Jsona();    return dataFormatter.deserialize(json);}
  ```
4. Create the `getArticles()` function to get all published articles.
   src/api/drupal.ts
  ```
  import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {DrupalNode} from "../types.ts";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  // Get the Drupal Base Url.export const baseUrl: string = import.meta.env.DRUPAL_BASE_URL;
  /** * Fetch url from Drupal. * * @param url * * @return Promise<TJsonaModel | TJsonaModel[]> as Promise<any> */export const fetchUrl = async (url: string): Promise<any> => {    const request: Response = await fetch(url);    const json: string | TJsonApiBody = await request.json();    const dataFormatter: Jsona = new Jsona();    return dataFormatter.deserialize(json);}
  /** * Get all published articles. * * @return Promise<DrupalNode[]> */export const getArticles = async (): Promise<DrupalNode[]> => {    const params: DrupalJsonApiParams = new DrupalJsonApiParams();    params        .addFields("node--article", [            "title",            "path",            "body",            "created",        ])        .addFilter("status", "1");    const path: string = params.getQueryString();    return await fetchUrl(baseUrl + '/jsonapi/node/article?' + path);}
  ```
  Now you can use the function `getArticles()` in an `.astro` component to get all published articles with data for each title, body, path and creation date.
5. Go to the Astro page where you will fetch data from Drupal. The following example creates an articles landing page at `src/pages/articles/index.astro`.
  Import the necessary dependencies and fetch all the entries from Drupal with a content type of `article` using `getArticles()` while passing the `DrupalNode` interface to type your response.
   src/pages/articles/index.astro
  ```
  ---import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  import type { DrupalNode } from "../../types";import {getArticles} from "../../api/drupal";
  // Get all published articles.const articles = await getArticles();---
  ```
  This fetch call using getArticles() will return a typed array of entries that can be used in your page template.
  Your `src/pages/` directory should now include the new file, if you used the same page file:
  - .env
  - astro.config.mjs
  - package.json
  - Directorysrc/
    - Directoryapi/
      - drupal.ts
    - Directorypages/
      - Directoryarticles/
        - **index.astro**
    - types.ts
6. Add content to your page, such as a title. Use `articles.map()` to show your Drupal entries as line items in a list.
   src/pages/articles/index.astro
  ```
  ---import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  import type { DrupalNode } from "../types";import {getArticles} from "../api/drupal";
  // Get all published articles.const articles = await getArticles();---<html lang="en">  <head>    <title>My news site</title>  </head>  <body>    <h1>My news site</h1>    <ul>      {articles.map((article: DrupalNode) => (        <li>          <a href={article.path.alias.replace("internal:en/", "")}>            <h2>{article.title}</h2>            <p>Published on {article.created}</p>          </a>        </li>      ))}    </ul>  </body></html>
  ```

### Generating individual blog posts

[Section titled “Generating individual blog posts”](#generating-individual-blog-posts)

Use the same method to fetch your data from Drupal as above, but this time, on a page that will create a unique page route for each article.

This example uses Astro’s default static mode, and creates [a dynamic routing page file](https://docs.astro.build/en/guides/routing/#dynamic-routes) with the `getStaticPaths()` function. This function will be called at build time to generate the list of paths that become pages.

1. Create a new file `src/pages/articles/[path].astro` and import the `DrupalNode` interface and `getArticle()` from `src/api/drupal.ts`. Fetch your data inside a `getStaticPaths()` function to create routes for your blog.
   src/pages/articles/[path].astro
  ```
  ---import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  import type { DrupalNode } from "../../types";import {getArticles} from "../../api/drupal";
  // Get all published articles.export async function getStaticPaths() {  const articles = await getArticles();}---
  ```
  Your src/pages/articles directory should now include the new file:
  - .env
  - astro.config.mjs
  - package.json
  - Directorysrc/
    - Directoryapi/
      - drupal.ts
    - Directorypages/
      - Directoryarticles/
        - index.astro
        - **[path].astro**
    - types.ts
2. In the same file, map each Drupal entry to an object with a `params` and `props` property. The `params` property will be used to generate the URL of the page and the `props` values will be passed to the page component as props.
   src/pages/articles/[path].astro
  ```
  ---import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  import type { DrupalNode } from "../../types";import {getArticles} from "../../api/drupal";
  // Get all published articles.export async function getStaticPaths() {    const articles = await getArticles();    return articles.map((article: DrupalNode) => {        return {            params: {                // Choose `path` to match the `[path]` routing value                path: article.path.alias.split('/')[2]            },            props: {                title: article.title,                body: article.body,                date: new Date(article.created).toLocaleDateString('en-EN', {                    day: "numeric",                    month: "long",                    year: "numeric"                })            }        }    });}---
  ```
  The property inside `params` must match the name of the dynamic route. Since the filename is `[path].astro`, the property name passed to `params` must be `path`.
  In our example, the `props` object passes three properties to the page:
  - `title`: a string, representing the title of your post.
  - `body`: a string, representing the content of your entry.
  - `date`: a timestamp, based on your file creation date.
3. Use the page `props` to display your blog post.
   src/pages/articles/[path].astro
  ```
  ---import {Jsona} from "jsona";import {DrupalJsonApiParams} from "drupal-jsonapi-params";import type {TJsonApiBody} from "jsona/lib/JsonaTypes";
  import type { DrupalNode } from "../../types";import {getArticles} from "../../api/drupal";
  // Get all published articles.export async function getStaticPaths() {    const articles = await getArticles();    return articles.map((article: DrupalNode) => {        return {            params: {                path: article.path.alias.split('/')[2]            },            props: {                title: article.title,                body: article.body,                date: new Date(article.created).toLocaleDateString('en-EN', {                    day: "numeric",                    month: "long",                    year: "numeric"                })            }        }    });}
  const {title, date, body} = Astro.props;---<html lang="en">  <head>    <title>{title}</title>  </head>  <body>    <h1>{title}</h1>    <time>{date}</time>    <article set:html={body.value} />  </body></html>
  ```
4. Navigate to your dev server preview and click on one of your posts to make sure your dynamic route is working.

### Publishing your site

[Section titled “Publishing your site”](#publishing-your-site)

To deploy your website, visit our [deployment guides](https://docs.astro.build/en/guides/deploy/) and follow the instructions for your preferred hosting provider.

## Community Resources

[Section titled “Community Resources”](#community-resources)   [Create a web application with Astro and Drupal](https://www.linkedin.com/pulse/create-web-application-astrojs-website-generator-using-gambino-kx6cf)

## More CMS guides

- ![](https://docs.astro.build/logos/apostrophecms.svg)
  ### ApostropheCMS
- ![](https://docs.astro.build/logos/builderio.svg)
  ### Builder.io
- ![](https://docs.astro.build/logos/buttercms.svg)
  ### ButterCMS
- ![](https://docs.astro.build/logos/caisy.svg)
  ### Caisy
- ![](https://docs.astro.build/logos/cloudcannon.svg)
  ### CloudCannon
- ![](https://docs.astro.build/logos/contentful.svg)
  ### Contentful
- ![](https://docs.astro.build/logos/cosmic.svg)
  ### Cosmic
- ![](https://docs.astro.build/logos/craft-cms.svg)
  ### Craft CMS
- ![](https://docs.astro.build/logos/craft-cross-cms.svg)
  ### Craft Cross CMS
- ![](https://docs.astro.build/logos/crystallize.svg)
  ### Crystallize
- ![](https://docs.astro.build/logos/datocms.svg)
  ### DatoCMS
- ![](https://docs.astro.build/logos/decap-cms.svg)
  ### Decap CMS
- ![](https://docs.astro.build/logos/directus.svg)
  ### Directus
- ![](https://docs.astro.build/logos/drupal.svg)
  ### Drupal
- ![](https://docs.astro.build/logos/flotiq.svg)
  ### Flotiq
- ![](https://docs.astro.build/logos/frontmatter-cms.svg)
  ### Front Matter CMS
- ![](https://docs.astro.build/logos/ghost.png)
  ### Ghost
- ![](https://docs.astro.build/logos/gitcms.svg)
  ### GitCMS
- ![](https://docs.astro.build/logos/hashnode.png)
  ### Hashnode
- ![](https://docs.astro.build/logos/hygraph.svg)
  ### Hygraph
- ![](https://docs.astro.build/logos/jekyllpad.svg)
  ### JekyllPad
- ![](https://docs.astro.build/logos/keystatic.svg)
  ### Keystatic
- ![](https://docs.astro.build/logos/keystonejs.svg)
  ### KeystoneJS
- ![](https://docs.astro.build/logos/kontent-ai.svg)
  ### Kontent.ai
- ![](https://docs.astro.build/logos/microcms.svg)
  ### microCMS
- ![](https://docs.astro.build/logos/optimizely.svg)
  ### Optimizely CMS
- ![](https://docs.astro.build/logos/payload.svg)
  ### Payload CMS
- ![](https://docs.astro.build/logos/preprcms.svg)
  ### Prepr CMS
- ![](https://docs.astro.build/logos/prismic.svg)
  ### Prismic
- ![](https://docs.astro.build/logos/sanity.svg)
  ### Sanity
- ![](https://docs.astro.build/logos/sitecore.svg)
  ### Sitecore XM
- ![](https://docs.astro.build/logos/sitepins.svg)
  ### Sitepins
- ![](https://docs.astro.build/logos/spinal.svg)
  ### Spinal
- ![](https://docs.astro.build/logos/statamic.svg)
  ### Statamic
- ![](https://docs.astro.build/logos/storyblok.svg)
  ### Storyblok
- ![](https://docs.astro.build/logos/strapi.svg)
  ### Strapi
- ![](https://docs.astro.build/logos/studiocms.svg)
  ### StudioCMS
- ![](https://docs.astro.build/logos/tina-cms.svg)
  ### Tina CMS
- ![](https://docs.astro.build/logos/umbraco.svg)
  ### Umbraco
- ![](https://docs.astro.build/logos/wordpress.svg)
  ### Wordpress

   Recipes     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Flotiq & Astro

> Add content to your Astro project using Flotiq as a CMS

# Flotiq & Astro

[Flotiq](https://flotiq.com?utm_campaign=flotiq_at_astro_headless_cms&utm_medium=referral&utm_source=astro) is a headless CMS designed for various frontends, such as static sites, mobile, and web applications. Developers and content creators manage and deliver content through REST and GraphQL-based APIs.

## Integrating with Astro

[Section titled “Integrating with Astro”](#integrating-with-astro)

This guide will use the Flotiq headless CMS API with an Astro project to display content on your website.

### Prerequisites

[Section titled “Prerequisites”](#prerequisites)

To get started, you will need:

1. **An Astro project** - You can create a new project using the `npm create astro@latest` command.
2. **A Flotiq account** - If you don’t have an account, [sign up for free](https://editor.flotiq.com/register?utm_campaign=flotiq_at_astro_headless_cms&utm_medium=referral&utm_source=astro).
3. **Flotiq read-only API key** - Find out [how to obtain your key](https://flotiq.com/docs/API/?utm_campaign=flotiq_at_astro_headless_cms&utm_medium=referral&utm_source=astro).

### Setting up the Environment variables

[Section titled “Setting up the Environment variables”](#setting-up-the-environment-variables)

Add the read-only API key from your Flotiq account to the `.env` file in the root of your Astro project:

 .env

```
FLOTIQ_API_KEY=__YOUR_FLOTIQ_API_KEY__
```

### Defining a Content Type in Flotiq

[Section titled “Defining a Content Type in Flotiq”](#defining-a-content-type-in-flotiq)

First, you need to define an example [Content Type Definition](https://flotiq.com/docs/panel/content-types/?utm_campaign=flotiq_at_astro_headless_cms&utm_medium=referral&utm_source=astro) in Flotiq to store data.

Log in to your Flotiq account and create a custom Content Type Definition with the following example `Blog Post` configuration:

- **Label**: Blog Post
- **API Name**: blogpost
- **Fields**:
  - **Title**: text, required
  - **Slug**: text, required
  - **Content**: rich text, required

Then, create one or more example [Content Objects](https://flotiq.com/docs/panel/content-objects/?utm_campaign=flotiq_at_astro_headless_cms&utm_medium=referral&utm_source=astro) using this `Blog Post` type.

### Installing the Flotiq TypeScript SDK

[Section titled “Installing the Flotiq TypeScript SDK”](#installing-the-flotiq-typescript-sdk)

To connect your project with Flotiq, install the [Flotiq SDK](https://github.com/flotiq/flotiq-api-ts) using the package manager of your choice:

- [npm](#tab-panel-2768)
- [pnpm](#tab-panel-2769)
- [Yarn](#tab-panel-2770)

   Terminal window

```
npm install flotiq-api-ts
```

   Terminal window

```
pnpm add flotiq-api-ts
```

   Terminal window

```
yarn add flotiq-api-ts
```

Next, configure the SDK using your credentials. Create a new file named `flotiq.ts` inside the `src/lib` directory of your project:

 src/lib/flotiq.ts

```
import { FlotiqApi } from "flotiq-api-ts";
export const flotiq = new FlotiqApi(import.meta.env.FLOTIQ_API_KEY);
```

This configuration can now be used throughout your project.

### Fetching and Displaying Data from Flotiq

[Section titled “Fetching and Displaying Data from Flotiq”](#fetching-and-displaying-data-from-flotiq)

1. Fetch the `Blog Post` data on an Astro page using your content’s custom API `BlogpostAPI`:
   src/pages/index.astro
  ```
  ---import { flotiq } from "../lib/flotiq";
  const posts = await flotiq.BlogpostAPI.list();---
  ```
2. Display the content in your Astro template. You will have access to the `title`, `slug`, and `content` of your posts as well as other `internal` post data:
   src/pages/index.astro
  ```
  ---import { flotiq } from "../lib/flotiq";
  const posts = await flotiq.BlogpostAPI.list();---<html lang="en">  <head>    <title>Astro</title>  </head>  <body>    {posts.data?.map((post) => (      <section>        <a href={`/posts/${post.slug}`}>          <h2>{post.title}</h2>        </a>        <div>{post.internal?.createdAt}</div>        <div set:html={post.content}/>      </section>    ))}  </body></html>
  ```
3. Start the dev server and visit your page preview at `http://localhost:4321` to see the list of your blog posts. Each post will link to a page that does not yet exist. These will be created in the next step.

### Generating Individual Pages

[Section titled “Generating Individual Pages”](#generating-individual-pages)

Astro supports both prerendering all your pages ahead of time, or creating routes on demand when they are requested. Follow the instructions for either [static site generation](#static-site-generation) or [on-demand rendering](#on-demand-rendering) to build the page routes for your blog posts.

#### Static Site Generation

[Section titled “Static Site Generation”](#static-site-generation)

In static site generation (SSG) mode, use the `getStaticPaths()` method to fetch all possible blog post paths from Flotiq.

1. Create a new file `[slug].astro` in the `/src/pages/posts/` directory. Fetch all blog posts and return them within the `getStaticPaths()` method:
   src/pages/posts/[slug].astro
  ```
  ---import type { Blogpost } from "flotiq-api-ts";import { flotiq } from "../../lib/flotiq";
  export async function getStaticPaths() {  const posts = await flotiq.BlogpostAPI.list();  return posts.data?.map((post) => ({    params: { slug: post.slug },    props: post  })) || []}---
  ```
2. Add the templating to display an individual post:
   src/pages/posts/[slug].astro
  ```
  ---import type { Blogpost } from "flotiq-api-ts";import { flotiq } from "../../lib/flotiq";
  export async function getStaticPaths() {  const posts = await flotiq.BlogpostAPI.list();  return posts.data?.map((post) => ({    params: { slug: post.slug },    props: post  })) || []}const post: Blogpost = Astro.props;---<html lang="en">  <title>{post.title}</title>  <body>    <h1>{post.title}</h1>    <div set:html={post.content}/>  </body></html>
  ```
3. Visit `http://localhost:4321` and click on a linked blog post in your list. You will now be able to navigate to the individual post’s page.

#### On-demand Rendering

[Section titled “On-demand Rendering”](#on-demand-rendering)

If you are using [SSR](https://docs.astro.build/en/guides/on-demand-rendering/) mode, you will need to fetch a single post based on its `slug`.

1. Create a new file `[slug].astro` in the `/src/pages/posts/` directory. Fetch the post by its `slug` field, including logic to display a 404 page when the route is not found:
   src/pages/posts/[slug].astro
  ```
  ---import type { Blogpost } from "flotiq-api-ts";import { flotiq } from "../../lib/flotiq";
  const { slug } = Astro.params;let post: Blogpost;
  const blogpostList = await flotiq.BlogpostAPI.list({  filters: JSON.stringify({    slug: {      type: 'equals',      filter: slug,    }  }),  limit: 1});
  if (blogpostList.data?.[0]) {  post = blogpostList.data[0]} else {  return Astro.redirect('/404');}---
  ```
2. Add the templating to display an individual post:
   src/pages/posts/[slug].astro
  ```
  ---import type { Blogpost } from "flotiq-api-ts";import { flotiq } from "../../lib/flotiq";
  const { slug } = Astro.params;let post: Blogpost;
  const blogpostList = await flotiq.BlogpostAPI.list({  filters: JSON.stringify({    slug: {      type: 'equals',      filter: slug,    }  }),  limit: 1});
  if (blogpostList.data?.[0]) {  post = blogpostList.data[0]} else {  return Astro.redirect('/404');}---<html lang="en">  <title>{post.title}</title>  <body>    <h1>{post.title}</h1>    <div set:html={post.content}/>  </body></html>
  ```
3. Visit `http://localhost:4321` and click on a linked blog post in your list. You will now be able to navigate to the individual post’s page.

### Refreshing the SDK After Content Type Changes

[Section titled “Refreshing the SDK After Content Type Changes”](#refreshing-the-sdk-after-content-type-changes)

When using the Flotiq TypeScript SDK (`flotiq-api-ts`), all your data types are accurately mapped into the Astro project.

If you make changes to the structure of your content types (such as adding a new field or modifying an existing one), you’ll need to refresh the SDK to ensure that your project reflects the latest model updates.

To do this, run the rebuild command for your package manager:

- [npm](#tab-panel-2771)
- [pnpm](#tab-panel-2772)
- [Yarn](#tab-panel-2773)

   Terminal window

```
npm rebuild flotiq-api-ts
```

   Terminal window

```
pnpm rebuild flotiq-api-ts
```

   Terminal window

```
yarn rebuild flotiq-api-ts// for yarn v1 (Classic):// yarn add flotiq-api-ts
```

This will update the SDK, aligning object types, fields, and API methods with your current data model.

## Publishing Your Site

[Section titled “Publishing Your Site”](#publishing-your-site)

To deploy your website, visit Astro’s [deployment guides](https://docs.astro.build/en/guides/deploy/) and follow the instructions for your preferred hosting provider.

### Redeploy on Flotiq Changes

[Section titled “Redeploy on Flotiq Changes”](#redeploy-on-flotiq-changes)

To update your published site, configure Flotiq to send a webhook your hosting provider to trigger a rebuild whenever your content changes.

In Flotiq, you can define which Content Type and events it should trigger on, and configure it accordingly. See the [Flotiq Webhooks documentation](https://flotiq.com/docs/panel/webhooks/async-co-webhook/?utm_campaign=flotiq_at_astro_headless_cms&utm_medium=referral&utm_source=astro) for more details.

## Official Resources

[Section titled “Official Resources”](#official-resources)

- [Flotiq documentation](https://flotiq.com/docs/?utm_campaign=flotiq_at_astro_headless_cms&utm_medium=referral&utm_source=astro)

## Community resources

[Section titled “Community resources”](#community-resources)

- [Flotiq x Astro](https://maciekpalmowski.dev/blog/flotiq-cms-astro/) by Maciek Palmowski

## More CMS guides

- ![](https://docs.astro.build/logos/apostrophecms.svg)
  ### ApostropheCMS
- ![](https://docs.astro.build/logos/builderio.svg)
  ### Builder.io
- ![](https://docs.astro.build/logos/buttercms.svg)
  ### ButterCMS
- ![](https://docs.astro.build/logos/caisy.svg)
  ### Caisy
- ![](https://docs.astro.build/logos/cloudcannon.svg)
  ### CloudCannon
- ![](https://docs.astro.build/logos/contentful.svg)
  ### Contentful
- ![](https://docs.astro.build/logos/cosmic.svg)
  ### Cosmic
- ![](https://docs.astro.build/logos/craft-cms.svg)
  ### Craft CMS
- ![](https://docs.astro.build/logos/craft-cross-cms.svg)
  ### Craft Cross CMS
- ![](https://docs.astro.build/logos/crystallize.svg)
  ### Crystallize
- ![](https://docs.astro.build/logos/datocms.svg)
  ### DatoCMS
- ![](https://docs.astro.build/logos/decap-cms.svg)
  ### Decap CMS
- ![](https://docs.astro.build/logos/directus.svg)
  ### Directus
- ![](https://docs.astro.build/logos/drupal.svg)
  ### Drupal
- ![](https://docs.astro.build/logos/flotiq.svg)
  ### Flotiq
- ![](https://docs.astro.build/logos/frontmatter-cms.svg)
  ### Front Matter CMS
- ![](https://docs.astro.build/logos/ghost.png)
  ### Ghost
- ![](https://docs.astro.build/logos/gitcms.svg)
  ### GitCMS
- ![](https://docs.astro.build/logos/hashnode.png)
  ### Hashnode
- ![](https://docs.astro.build/logos/hygraph.svg)
  ### Hygraph
- ![](https://docs.astro.build/logos/jekyllpad.svg)
  ### JekyllPad
- ![](https://docs.astro.build/logos/keystatic.svg)
  ### Keystatic
- ![](https://docs.astro.build/logos/keystonejs.svg)
  ### KeystoneJS
- ![](https://docs.astro.build/logos/kontent-ai.svg)
  ### Kontent.ai
- ![](https://docs.astro.build/logos/microcms.svg)
  ### microCMS
- ![](https://docs.astro.build/logos/optimizely.svg)
  ### Optimizely CMS
- ![](https://docs.astro.build/logos/payload.svg)
  ### Payload CMS
- ![](https://docs.astro.build/logos/preprcms.svg)
  ### Prepr CMS
- ![](https://docs.astro.build/logos/prismic.svg)
  ### Prismic
- ![](https://docs.astro.build/logos/sanity.svg)
  ### Sanity
- ![](https://docs.astro.build/logos/sitecore.svg)
  ### Sitecore XM
- ![](https://docs.astro.build/logos/sitepins.svg)
  ### Sitepins
- ![](https://docs.astro.build/logos/spinal.svg)
  ### Spinal
- ![](https://docs.astro.build/logos/statamic.svg)
  ### Statamic
- ![](https://docs.astro.build/logos/storyblok.svg)
  ### Storyblok
- ![](https://docs.astro.build/logos/strapi.svg)
  ### Strapi
- ![](https://docs.astro.build/logos/studiocms.svg)
  ### StudioCMS
- ![](https://docs.astro.build/logos/tina-cms.svg)
  ### Tina CMS
- ![](https://docs.astro.build/logos/umbraco.svg)
  ### Umbraco
- ![](https://docs.astro.build/logos/wordpress.svg)
  ### Wordpress

   Recipes     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Front Matter CMS & Astro

> Add content to your Astro project using Front Matter CMS

# Front Matter CMS & Astro

[Front Matter CMS](https://frontmatter.codes/) brings the CMS to your editor, it runs within Visual Studio Code, Gitpod, and many more.

## Integration with Astro

[Section titled “Integration with Astro”](#integration-with-astro)

In this section, we’ll walk through how to add Front Matter CMS to your Astro project.

### Prerequisites

[Section titled “Prerequisites”](#prerequisites)

- Visual Studio Code
- Use the [Astro Blog template](https://github.com/withastro/astro/tree/main/examples/blog) to provide the base configuration and sample content to start with Front Matter CMS.

### Install the Front Matter CMS extension

[Section titled “Install the Front Matter CMS extension”](#install-the-front-matter-cms-extension)

You can get the extension from the [Visual Studio Code Marketplace - Front Matter](https://marketplace.visualstudio.com/items?itemName=eliostruyf.vscode-front-matter) or by clicking on the following link: [open Front Matter CMS extension in VS Code](vscode:extension/eliostruyf.vscode-front-matter)

### Project initialization

[Section titled “Project initialization”](#project-initialization)

Once Front Matter CMS is installed, you will get a new icon in the Activity Bar. It will open the **Front Matter CMS** panel in the primary sidebar when you click on it. Follow the next steps to initialize your project:

- Click on the **Initialize project** button in the Front Matter panel
- The welcome screen will open, and you can start initializing the project
- Click on the first step to **Initialize project**
- As Astro is one of the supported frameworks, you can select it from the list
- Register your content folders, in this case, the `src/content/blog` folder.
- You will be asked to enter the name of the folder. By default, it takes the folder name.
- Click on **Show the dashboard** to open the content dashboard

### Project configuration

[Section titled “Project configuration”](#project-configuration)

Once the project is initialized, you will get a `frontmatter.json` configuration file and a `.frontmatter` folder in the root of your project.

- Directory.frontmatter/
  - Directorydatabase/
    - mediaDb.json
- Directorysrc/
  - …
- astro.config.mjs
- **frontmatter.json**
- package.json

#### Content-type configuration

[Section titled “Content-type configuration”](#content-type-configuration)

Content-types are the way Front Matter CMS manages your content. Each content-type contains a set of fields, which can be defined per type of content you want to use for your website.

The fields correspond to the front matter of your page content.

You can configure the content-types in the `frontmatter.json` file.

- Open the `frontmatter.json` file
- Replace the `frontMatter.taxonomy.contentTypes` array with the following content-types configuration:

 frontmatter.json

```
"frontMatter.taxonomy.contentTypes": [  {    "name": "default",    "pageBundle": false,    "previewPath": "'blog'",    "filePrefix": null,    "fields": [      {        "title": "Title",        "name": "title",        "type": "string",        "single": true      },      {        "title": "Description",        "name": "description",        "type": "string"      },      {        "title": "Publishing date",        "name": "pubDate",        "type": "datetime",        "default": "{{now}}",        "isPublishDate": true      },      {        "title": "Content preview",        "name": "heroImage",        "type": "image",        "isPreviewImage": true      }    ]  }]
```

### Preview your articles in the editor

[Section titled “Preview your articles in the editor”](#preview-your-articles-in-the-editor)

From the **Front Matter CMS** panel, click on the **Start server** button. This action starts the Astro local dev server. Once running, you can open the content dashboard, select one of the articles and click on the **Open preview** button to open the article in the editor.

### Create new articles

[Section titled “Create new articles”](#create-new-articles)

Open the **Front Matter CMS Dashboard**; you can do this as follows:

- Open the Front Matter CMS’ content dashboard
- Click on the **Create content** button
- Front Matter will ask you for the title of the article. Fill it in and press enter
- Your new article will be created and opened in the editor. You can start writing your article.

### Using Markdoc with Front Matter CMS

[Section titled “Using Markdoc with Front Matter CMS”](#using-markdoc-with-front-matter-cms)

To use Markdoc with Front Matter CMS, you must configure this in the `frontMatter.content.supportedFileTypes`. This setting lets the CMS know which types of files it can progress.

You can configure the setting as follows:

 frontmatter.json

```
"frontMatter.content.supportedFileTypes": [ "md", "markdown", "mdx", "mdoc" ]
```

To allow your content to be created as Markdoc, specify the `fileType` property on the content-type.

 frontmatter.json

```
"frontMatter.taxonomy.contentTypes": [  {    "name": "default",    "pageBundle": false,    "previewPath": "'blog'",    "filePrefix": null,    "fileType": "mdoc",    "fields": [      {        "title": "Title",        "name": "title",        "type": "string",        "single": true      },      {        "title": "Description",        "name": "description",        "type": "string"      },      {        "title": "Publishing date",        "name": "pubDate",        "type": "datetime",        "default": "{{now}}",        "isPublishDate": true      },      {        "title": "Content preview",        "name": "heroImage",        "type": "image",        "isPreviewImage": true      }    ]  }]
```

## Official Resources

[Section titled “Official Resources”](#official-resources)

- [Front Matter CMS](https://frontmatter.codes/)
- [Front Matter CMS - Documentation](https://frontmatter.codes/docs/)
- [Getting started with Astro and Front Matter CMS](https://youtu.be/xb6pZiier_E)

## More CMS guides

- ![](https://docs.astro.build/logos/apostrophecms.svg)
  ### ApostropheCMS
- ![](https://docs.astro.build/logos/builderio.svg)
  ### Builder.io
- ![](https://docs.astro.build/logos/buttercms.svg)
  ### ButterCMS
- ![](https://docs.astro.build/logos/caisy.svg)
  ### Caisy
- ![](https://docs.astro.build/logos/cloudcannon.svg)
  ### CloudCannon
- ![](https://docs.astro.build/logos/contentful.svg)
  ### Contentful
- ![](https://docs.astro.build/logos/cosmic.svg)
  ### Cosmic
- ![](https://docs.astro.build/logos/craft-cms.svg)
  ### Craft CMS
- ![](https://docs.astro.build/logos/craft-cross-cms.svg)
  ### Craft Cross CMS
- ![](https://docs.astro.build/logos/crystallize.svg)
  ### Crystallize
- ![](https://docs.astro.build/logos/datocms.svg)
  ### DatoCMS
- ![](https://docs.astro.build/logos/decap-cms.svg)
  ### Decap CMS
- ![](https://docs.astro.build/logos/directus.svg)
  ### Directus
- ![](https://docs.astro.build/logos/drupal.svg)
  ### Drupal
- ![](https://docs.astro.build/logos/flotiq.svg)
  ### Flotiq
- ![](https://docs.astro.build/logos/frontmatter-cms.svg)
  ### Front Matter CMS
- ![](https://docs.astro.build/logos/ghost.png)
  ### Ghost
- ![](https://docs.astro.build/logos/gitcms.svg)
  ### GitCMS
- ![](https://docs.astro.build/logos/hashnode.png)
  ### Hashnode
- ![](https://docs.astro.build/logos/hygraph.svg)
  ### Hygraph
- ![](https://docs.astro.build/logos/jekyllpad.svg)
  ### JekyllPad
- ![](https://docs.astro.build/logos/keystatic.svg)
  ### Keystatic
- ![](https://docs.astro.build/logos/keystonejs.svg)
  ### KeystoneJS
- ![](https://docs.astro.build/logos/kontent-ai.svg)
  ### Kontent.ai
- ![](https://docs.astro.build/logos/microcms.svg)
  ### microCMS
- ![](https://docs.astro.build/logos/optimizely.svg)
  ### Optimizely CMS
- ![](https://docs.astro.build/logos/payload.svg)
  ### Payload CMS
- ![](https://docs.astro.build/logos/preprcms.svg)
  ### Prepr CMS
- ![](https://docs.astro.build/logos/prismic.svg)
  ### Prismic
- ![](https://docs.astro.build/logos/sanity.svg)
  ### Sanity
- ![](https://docs.astro.build/logos/sitecore.svg)
  ### Sitecore XM
- ![](https://docs.astro.build/logos/sitepins.svg)
  ### Sitepins
- ![](https://docs.astro.build/logos/spinal.svg)
  ### Spinal
- ![](https://docs.astro.build/logos/statamic.svg)
  ### Statamic
- ![](https://docs.astro.build/logos/storyblok.svg)
  ### Storyblok
- ![](https://docs.astro.build/logos/strapi.svg)
  ### Strapi
- ![](https://docs.astro.build/logos/studiocms.svg)
  ### StudioCMS
- ![](https://docs.astro.build/logos/tina-cms.svg)
  ### Tina CMS
- ![](https://docs.astro.build/logos/umbraco.svg)
  ### Umbraco
- ![](https://docs.astro.build/logos/wordpress.svg)
  ### Wordpress

   Recipes     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Ghost & Astro

> Add content to your Astro project using Ghost as a CMS

# Ghost & Astro

[Ghost](https://github.com/TryGhost/Ghost) is an open-source, headless content management system built on Node.js.

## Integrating with Astro

[Section titled “Integrating with Astro”](#integrating-with-astro)

In this section, we’ll use the [Ghost content API](https://ghost.org/docs/content-api/) to bring your data into your Astro project.

### Prerequisites

[Section titled “Prerequisites”](#prerequisites)

To get started you will need to have the following:

1. **An Astro project** - If you don’t have an Astro project yet, our [Installation guide](https://docs.astro.build/en/install-and-setup/) will get you up and running in no time.
2. **A Ghost site** - It is assumed that you have a site set up with Ghost. If you don’t you can set one up on a [local environment.](https://ghost.org/docs/install/local/)
3. **Content API Key** - You can make an integration under your site’s `Settings > Integrations`. From there you can find your `Content API key`

### Setting up credentials

[Section titled “Setting up credentials”](#setting-up-credentials)

To add your site’s credentials to Astro, create an `.env` file in the root of your project with the following variable:

 .env

```
CONTENT_API_KEY=YOUR_API_KEY
```

Now, you should be able to use this environment variable in your project.

If you would like to have IntelliSense for your environment variable, you can create a `env.d.ts` file in the `src/` directory and configure `ImportMetaEnv` like this:

 src/env.d.ts

```
interface ImportMetaEnv {  readonly CONTENT_API_KEY: string;}
```

Your root directory should now include these new files:

- Directorysrc/
  - **env.d.ts**
- **.env**
- astro.config.mjs
- package.json

### Installing dependencies

[Section titled “Installing dependencies”](#installing-dependencies)

To connect with Ghost, install the official content API wrapper [@tryghost/content-api](https://www.npmjs.com/package/@tryghost/content-api) using the command below for your preferred package manager, and optionally, a helpful package containing type definitions if you are using TypeScript:

- [npm](#tab-panel-2774)
- [pnpm](#tab-panel-2775)
- [Yarn](#tab-panel-2776)

   Terminal window

```
npm install @tryghost/content-apinpm install --save @types/tryghost__content-api
```

   Terminal window

```
pnpm add @tryghost/content-apipnpm add --save-dev @types/tryghost__content-api
```

   Terminal window

```
yarn add @tryghost/content-apiyarn add --dev @types/tryghost__content-api
```

## Making a blog with Astro and Ghost

[Section titled “Making a blog with Astro and Ghost”](#making-a-blog-with-astro-and-ghost)

With the setup above, you are now able to create a blog that uses Ghost as the CMS.

### Prerequisites

[Section titled “Prerequisites”](#prerequisites-1)

1. A Ghost blog
2. An Astro project integrated with the [Ghost content API](https://www.npmjs.com/package/@tryghost/content-api) - See [integrating with Astro](https://docs.astro.build/en/guides/cms/ghost/#integrating-with-astro) for more details on how to set up an Astro project with Ghost.

This example will create an index page that lists posts with links to dynamically-generated individual post pages.

### Fetching Data

[Section titled “Fetching Data”](#fetching-data)

You can fetch your site’s data with the Ghost content API package.

First, create a `ghost.ts` file under a `lib` directory.

- Directorysrc/
  - Directorylib/
    - **ghost.ts**
  - Directorypages/
    - index.astro
- astro.config.mjs
- package.json

Initialize an API instance with the Ghost API using the API key from the Ghost dashboard’s Integrations page.

 src/lib/ghost.ts

```
import GhostContentAPI from '@tryghost/content-api';
// Create API instance with site credentialsexport const ghostClient = new GhostContentAPI({    url: 'http://127.0.0.1:2368', // This is the default URL if your site is running on a local environment    key: import.meta.env.CONTENT_API_KEY,    version: 'v5.0',});
```

### Displaying a list of posts

[Section titled “Displaying a list of posts”](#displaying-a-list-of-posts)

The page `src/pages/index.astro` will display a list of posts, each with a description and link to its own page.

- Directorysrc/
  - Directorylib/
    - ghost.ts
  - Directorypages/
    - **index.astro**
- astro.config.mjs
- package.json

Import `ghostClient()` in the Astro frontmatter to use the `posts.browse()` method to access blog posts from Ghost. Set `limit: all` to retrieve all posts.

 src/pages/index.astro

```
---import { ghostClient } from '../lib/ghost';const posts = await ghostClient.posts    .browse({        limit: 'all',    })    .catch((err) => {        console.error(err);    });---
```

Fetching via the content API returns an array of objects containing the [properties for each post](https://ghost.org/docs/content-api/#posts) such as:

- `title` - the title of the post
- `html` - the HTML rendering of the content of the post
- `feature_image` - the source URL of the featured image of the post
- `slug` - the slug of the post

Use the `posts` array returned from the fetch to display a list of blog posts on the page.

 src/pages/index.astro

```
---import { ghostClient } from '../lib/ghost';const posts = await ghostClient.posts    .browse({        limit: 'all',    })    .catch((err) => {        console.error(err);    });---
<html lang="en">    <head>        <title>Astro + Ghost 👻</title>    </head>    <body>
        {            posts.map((post) => (                <a href={`/post/${post.slug}`}>                    <h1> {post.title} </h1>                </a>            ))        }    </body></html>
```

### Generating pages

[Section titled “Generating pages”](#generating-pages)

The page `src/pages/post/[slug].astro` [dynamically generates a page](https://docs.astro.build/en/guides/routing/#dynamic-routes) for each post.

- Directorysrc/
  - Directorylib/
    - ghost.ts
  - Directorypages/
    - index.astro
    - Directorypost/
      - **[slug].astro**
- astro.config.mjs
- package.json

Import `ghostClient()` to access blog posts using `posts.browse()` and return a post as props to each of your dynamic routes.

 src/pages/post/[slug].astro

```
---import { ghostClient } from '../../lib/ghost';
export async function getStaticPaths() {    const posts = await ghostClient.posts        .browse({            limit: 'all',        })        .catch((err) => {            console.error(err);        });
    return posts.map((post) => {        return {            params: {                slug: post.slug,            },            props: {                post: post,            },        };    });}
const { post } = Astro.props;---
```

Create the template for each page using the properties of each `post` object.

 src/pages/post/[slug].astro

```
---import { ghostClient } from '../../lib/ghost';export async function getStaticPaths() {    const posts = await ghostClient.posts        .browse({            limit: 'all',        })        .catch((err) => {            console.error(err);        });    return posts.map((post) => {        return {            params: {                slug: post.slug,            },            props: {                post: post,            },        };    });}const { post } = Astro.props;---<!DOCTYPE html><html lang="en">    <head>        <title>{post.title}</title>    </head>    <body>        <img src={post.feature_image} alt={post.title} />
        <h1>{post.title}</h1>        <p>{post.reading_time} min read</p>
        <Fragment set:html={post.html} />    </body></html>
```

### Publishing your site

[Section titled “Publishing your site”](#publishing-your-site)

To deploy your site visit our [deployment guide](https://docs.astro.build/en/guides/deploy/) and follow the instructions for your preferred hosting provider.

## Community Resources

[Section titled “Community Resources”](#community-resources)   [Ghost CMS & Astro Tutorial](https://matthiesen.xyz/blog/astro-ghostcms)     [Astro + Ghost + Tailwind CSS](https://andr.ec/posts/astro-ghost-blog/)     [Building a Corporate site with Astro and Ghost](https://artabric.com/post/building-a-corporate-site-with-astro-and-ghost/)     [`astro-starter-ghost`](https://github.com/PhilDL/astro-starter-ghost)

## More CMS guides

- ![](https://docs.astro.build/logos/apostrophecms.svg)
  ### ApostropheCMS
- ![](https://docs.astro.build/logos/builderio.svg)
  ### Builder.io
- ![](https://docs.astro.build/logos/buttercms.svg)
  ### ButterCMS
- ![](https://docs.astro.build/logos/caisy.svg)
  ### Caisy
- ![](https://docs.astro.build/logos/cloudcannon.svg)
  ### CloudCannon
- ![](https://docs.astro.build/logos/contentful.svg)
  ### Contentful
- ![](https://docs.astro.build/logos/cosmic.svg)
  ### Cosmic
- ![](https://docs.astro.build/logos/craft-cms.svg)
  ### Craft CMS
- ![](https://docs.astro.build/logos/craft-cross-cms.svg)
  ### Craft Cross CMS
- ![](https://docs.astro.build/logos/crystallize.svg)
  ### Crystallize
- ![](https://docs.astro.build/logos/datocms.svg)
  ### DatoCMS
- ![](https://docs.astro.build/logos/decap-cms.svg)
  ### Decap CMS
- ![](https://docs.astro.build/logos/directus.svg)
  ### Directus
- ![](https://docs.astro.build/logos/drupal.svg)
  ### Drupal
- ![](https://docs.astro.build/logos/flotiq.svg)
  ### Flotiq
- ![](https://docs.astro.build/logos/frontmatter-cms.svg)
  ### Front Matter CMS
- ![](https://docs.astro.build/logos/ghost.png)
  ### Ghost
- ![](https://docs.astro.build/logos/gitcms.svg)
  ### GitCMS
- ![](https://docs.astro.build/logos/hashnode.png)
  ### Hashnode
- ![](https://docs.astro.build/logos/hygraph.svg)
  ### Hygraph
- ![](https://docs.astro.build/logos/jekyllpad.svg)
  ### JekyllPad
- ![](https://docs.astro.build/logos/keystatic.svg)
  ### Keystatic
- ![](https://docs.astro.build/logos/keystonejs.svg)
  ### KeystoneJS
- ![](https://docs.astro.build/logos/kontent-ai.svg)
  ### Kontent.ai
- ![](https://docs.astro.build/logos/microcms.svg)
  ### microCMS
- ![](https://docs.astro.build/logos/optimizely.svg)
  ### Optimizely CMS
- ![](https://docs.astro.build/logos/payload.svg)
  ### Payload CMS
- ![](https://docs.astro.build/logos/preprcms.svg)
  ### Prepr CMS
- ![](https://docs.astro.build/logos/prismic.svg)
  ### Prismic
- ![](https://docs.astro.build/logos/sanity.svg)
  ### Sanity
- ![](https://docs.astro.build/logos/sitecore.svg)
  ### Sitecore XM
- ![](https://docs.astro.build/logos/sitepins.svg)
  ### Sitepins
- ![](https://docs.astro.build/logos/spinal.svg)
  ### Spinal
- ![](https://docs.astro.build/logos/statamic.svg)
  ### Statamic
- ![](https://docs.astro.build/logos/storyblok.svg)
  ### Storyblok
- ![](https://docs.astro.build/logos/strapi.svg)
  ### Strapi
- ![](https://docs.astro.build/logos/studiocms.svg)
  ### StudioCMS
- ![](https://docs.astro.build/logos/tina-cms.svg)
  ### Tina CMS
- ![](https://docs.astro.build/logos/umbraco.svg)
  ### Umbraco
- ![](https://docs.astro.build/logos/wordpress.svg)
  ### Wordpress

   Recipes     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# GitCMS & Astro

> Integrate GitCMS into your Astro project for seamless content management

# GitCMS & Astro

[GitCMS](https://gitcms.blog) turns GitHub into a Git-based headless CMS, offering a Notion-like markdown editing experience right in your browser.

## Official Resources

[Section titled “Official Resources”](#official-resources)

- [Introducing GitCMS](https://gitcms.blog/posts/introducing-gitcms/)
- [How to Configure GitCMS for an Astro Site](https://gitcms.blog/posts/how-to-configure-gitcms/)
- [Install GitCMS Chrome Extension](https://gitcms.blog/extension)

## More CMS guides

- ![](https://docs.astro.build/logos/apostrophecms.svg)
  ### ApostropheCMS
- ![](https://docs.astro.build/logos/builderio.svg)
  ### Builder.io
- ![](https://docs.astro.build/logos/buttercms.svg)
  ### ButterCMS
- ![](https://docs.astro.build/logos/caisy.svg)
  ### Caisy
- ![](https://docs.astro.build/logos/cloudcannon.svg)
  ### CloudCannon
- ![](https://docs.astro.build/logos/contentful.svg)
  ### Contentful
- ![](https://docs.astro.build/logos/cosmic.svg)
  ### Cosmic
- ![](https://docs.astro.build/logos/craft-cms.svg)
  ### Craft CMS
- ![](https://docs.astro.build/logos/craft-cross-cms.svg)
  ### Craft Cross CMS
- ![](https://docs.astro.build/logos/crystallize.svg)
  ### Crystallize
- ![](https://docs.astro.build/logos/datocms.svg)
  ### DatoCMS
- ![](https://docs.astro.build/logos/decap-cms.svg)
  ### Decap CMS
- ![](https://docs.astro.build/logos/directus.svg)
  ### Directus
- ![](https://docs.astro.build/logos/drupal.svg)
  ### Drupal
- ![](https://docs.astro.build/logos/flotiq.svg)
  ### Flotiq
- ![](https://docs.astro.build/logos/frontmatter-cms.svg)
  ### Front Matter CMS
- ![](https://docs.astro.build/logos/ghost.png)
  ### Ghost
- ![](https://docs.astro.build/logos/gitcms.svg)
  ### GitCMS
- ![](https://docs.astro.build/logos/hashnode.png)
  ### Hashnode
- ![](https://docs.astro.build/logos/hygraph.svg)
  ### Hygraph
- ![](https://docs.astro.build/logos/jekyllpad.svg)
  ### JekyllPad
- ![](https://docs.astro.build/logos/keystatic.svg)
  ### Keystatic
- ![](https://docs.astro.build/logos/keystonejs.svg)
  ### KeystoneJS
- ![](https://docs.astro.build/logos/kontent-ai.svg)
  ### Kontent.ai
- ![](https://docs.astro.build/logos/microcms.svg)
  ### microCMS
- ![](https://docs.astro.build/logos/optimizely.svg)
  ### Optimizely CMS
- ![](https://docs.astro.build/logos/payload.svg)
  ### Payload CMS
- ![](https://docs.astro.build/logos/preprcms.svg)
  ### Prepr CMS
- ![](https://docs.astro.build/logos/prismic.svg)
  ### Prismic
- ![](https://docs.astro.build/logos/sanity.svg)
  ### Sanity
- ![](https://docs.astro.build/logos/sitecore.svg)
  ### Sitecore XM
- ![](https://docs.astro.build/logos/sitepins.svg)
  ### Sitepins
- ![](https://docs.astro.build/logos/spinal.svg)
  ### Spinal
- ![](https://docs.astro.build/logos/statamic.svg)
  ### Statamic
- ![](https://docs.astro.build/logos/storyblok.svg)
  ### Storyblok
- ![](https://docs.astro.build/logos/strapi.svg)
  ### Strapi
- ![](https://docs.astro.build/logos/studiocms.svg)
  ### StudioCMS
- ![](https://docs.astro.build/logos/tina-cms.svg)
  ### Tina CMS
- ![](https://docs.astro.build/logos/umbraco.svg)
  ### Umbraco
- ![](https://docs.astro.build/logos/wordpress.svg)
  ### Wordpress

   Recipes     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)
