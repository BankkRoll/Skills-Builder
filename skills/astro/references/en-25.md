# @astrojs/react and more

# @astrojs/react

> Learn how to use the @astrojs/react framework integration to extend component support in your Astro project.

# @astrojs/react

  v4.4.2 [GitHub](https://github.com/withastro/astro/tree/main/packages/integrations/react/) [npm](https://www.npmjs.com/package/@astrojs/react) [Changelog](https://github.com/withastro/astro/tree/main/packages/integrations/react/CHANGELOG.md)

This **Astro integration** enables rendering and client-side hydration for your [React](https://react.dev/) components.

## Installation

[Section titled ‚ÄúInstallation‚Äù](#installation)

Astro includes an `astro add` command to automate the setup of official integrations. If you prefer, you can [install integrations manually](#manual-install) instead.

To install `@astrojs/react`, run the following from your project directory and follow the prompts:

- [npm](#tab-panel-3004)
- [pnpm](#tab-panel-3005)
- [Yarn](#tab-panel-3006)

   Terminal window

```
npx astro add react
```

   Terminal window

```
pnpm astro add react
```

   Terminal window

```
yarn astro add react
```

If you run into any issues, [feel free to report them to us on GitHub](https://github.com/withastro/astro/issues) and try the manual installation steps below.

### Manual Install

[Section titled ‚ÄúManual Install‚Äù](#manual-install)

First, install the `@astrojs/react` package:

- [npm](#tab-panel-3007)
- [pnpm](#tab-panel-3008)
- [Yarn](#tab-panel-3009)

   Terminal window

```
npm install @astrojs/react
```

   Terminal window

```
pnpm add @astrojs/react
```

   Terminal window

```
yarn add @astrojs/react
```

Most package managers will install associated peer dependencies as well. If you see a `Cannot find package 'react'` (or similar) warning when you start up Astro, you‚Äôll need to install `react` and `react-dom` with its type definitions:

- [npm](#tab-panel-3010)
- [pnpm](#tab-panel-3011)
- [Yarn](#tab-panel-3012)

   Terminal window

```
npm install react react-dom @types/react @types/react-dom
```

   Terminal window

```
pnpm add react react-dom @types/react @types/react-dom
```

   Terminal window

```
yarn add react react-dom @types/react @types/react-dom
```

Then, apply the integration to your `astro.config.*` file using the `integrations` property:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import react from '@astrojs/react';
export default defineConfig({  // ...  integrations: [react()],});
```

And add the following code to the `tsconfig.json` file.

 tsconfig.json

```
{  "extends": "astro/tsconfigs/strict",  "include": [".astro/types.d.ts", "**/*"],  "exclude": ["dist"],  "compilerOptions": {    "jsx": "react-jsx",    "jsxImportSource": "react"  }}
```

## Getting started

[Section titled ‚ÄúGetting started‚Äù](#getting-started)

To use your first React component in Astro, head to our [UI framework documentation](https://docs.astro.build/en/guides/framework-components/#using-framework-components). You‚Äôll explore:

- üì¶ how framework components are loaded,
- üíß client-side hydration options, and
- ü§ù opportunities to mix and nest frameworks together

## Integrate Actions withuseActionState()

[Section titled ‚ÄúIntegrate Actions with useActionState()‚Äù](#integrate-actions-with-useactionstate)

The `@astrojs/react` integration provides two functions for use with [Astro Actions](https://docs.astro.build/en/guides/actions/): `withState()` and `getActionState()`.

These are used with [React‚Äôs useActionState() hook](https://react.dev/reference/react/useActionState) to read and update client-side state when triggering actions during form submission.

### withState()

[Section titled ‚ÄúwithState()‚Äù](#withstate)

**Type:** `(action: FormFn<T>) => (state: T, formData: FormData) => FormFn<T>`

 **Added in:** `@astrojs/react@4.4.0` New

You can pass `withState()` and the action you want to trigger to React‚Äôs `useActionState()` hook as the form action function. The example below passes a `like` action to increase a counter along with an initial state of `0` likes.

 Like.tsx

```
import { actions } from 'astro:actions';import { withState } from '@astrojs/react/actions';import { useActionState } from "react";
export function Like({ postId }: { postId: string }) {  const [state, action, pending] = useActionState(    withState(actions.like),    { data: 0, error: undefined }, // initial likes and errors  );
  return (    <form action={action}>      <input type="hidden" name="postId" value={postId} />      <button disabled={pending}>{state.data} ‚ù§Ô∏è</button>    </form>  );}
```

The `withState()` function will match the action‚Äôs types with React‚Äôs expectations and preserve metadata used for progressive enhancement, allowing it to work even when JavaScript is disabled on the user‚Äôs device.

### getActionState()

[Section titled ‚ÄúgetActionState()‚Äù](#getactionstate)

**Type:** `(context: ActionAPIContext) => Promise<T>`

 **Added in:** `@astrojs/react@4.4.0` New

You can access the state stored by `useActionState()` on the server in your action `handler` with `getActionState()`. It accepts the [Astro API context](https://docs.astro.build/en/reference/api-reference/#the-context-object), and optionally, you can apply a type to the result.

The example below gets the current value of likes from a counter, typed as a number, in order to create an incrementing `like` action:

 actions.ts

```
import { defineAction, type SafeResult } from 'astro:actions';import { z } from 'astro/zod';import { getActionState } from '@astrojs/react/actions';
export const server = {  like: defineAction({    input: z.object({      postId: z.string(),    }),    handler: async ({ postId }, ctx) => {      const { data: currentLikes = 0, error } = await getActionState<SafeResult<any, number>>(ctx);
      // handle errors      if (error) throw error;
      // write to database      return currentLikes + 1;    },  })};
```

## Options

[Section titled ‚ÄúOptions‚Äù](#options)

### Combining multiple JSX frameworks

[Section titled ‚ÄúCombining multiple JSX frameworks‚Äù](#combining-multiple-jsx-frameworks)

When you are using multiple JSX frameworks (React, Preact, Solid) in the same project, Astro needs to determine which JSX framework-specific transformations should be used for each of your components. If you have only added one JSX framework integration to your project, no extra configuration is needed.

Use the `include` (required) and `exclude` (optional) configuration options to specify which files belong to which framework. Provide an array of files and/or folders to `include` for each framework you are using. Wildcards may be used to include multiple file paths.

We recommend placing common framework components in the same folder (e.g. `/components/react/` and `/components/solid/`) to make specifying your includes easier, but this is not required:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import preact from '@astrojs/preact';import react from '@astrojs/react';import svelte from '@astrojs/svelte';import vue from '@astrojs/vue';import solid from '@astrojs/solid-js';
export default defineConfig({  // Enable many frameworks to support all different kinds of components.  // No `include` is needed if you are only using a single JSX framework!  integrations: [    preact({      include: ['**/preact/*'],    }),    react({      include: ['**/react/*'],    }),    solid({      include: ['**/solid/*'],    }),  ],});
```

### Children parsing

[Section titled ‚ÄúChildren parsing‚Äù](#children-parsing)

Children passed into a React component from an Astro component are parsed as plain strings, not React nodes.

For example, the `<ReactComponent />` below will only receive a single child element:

```
---import ReactComponent from './ReactComponent';---
<ReactComponent>  <div>one</div>  <div>two</div></ReactComponent>
```

If you are using a library that *expects* more than one child element to be passed, for example so that it can slot certain elements in different places, you might find this to be a blocker.

You can set the experimental flag `experimentalReactChildren` to tell Astro to always pass children to React as React virtual DOM nodes. There is some runtime cost to this, but it can help with compatibility.

You can enable this option in the configuration for the React integration:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import react from '@astrojs/react';
export default defineConfig({  // ...  integrations: [    react({      experimentalReactChildren: true,    }),  ],});
```

### Disable streaming (experimental)

[Section titled ‚ÄúDisable streaming (experimental)‚Äù](#disable-streaming-experimental)

Astro streams the output of React components by default. However, you can disable this behavior by enabling the `experimentalDisableStreaming` option. This is particularly helpful for supporting libraries that don‚Äôt work well with streaming, like some CSS-in-JS solutions.

To disable streaming for all React components in your project, configure `@astrojs/react` with `experimentalDisableStreaming: true`:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import react from '@astrojs/react';
export default defineConfig({  // ...  integrations: [    react({      experimentalDisableStreaming: true,    })  ]});
```

## More integrations

### Front-end frameworks

- ![](https://docs.astro.build/logos/alpine-js.svg)
  ### @astrojs/alpinejs
- ![](https://docs.astro.build/logos/preact.svg)
  ### @astrojs/preact
- ![](https://docs.astro.build/logos/react.svg)
  ### @astrojs/react
- ![](https://docs.astro.build/logos/solid.svg)
  ### @astrojs/solid‚Å†-‚Å†js
- ![](https://docs.astro.build/logos/svelte.svg)
  ### @astrojs/svelte
- ![](https://docs.astro.build/logos/vue.svg)
  ### @astrojs/vue

### Adapters

- ![](https://docs.astro.build/logos/cloudflare-pages.svg)
  ### @astrojs/cloudflare
- ![](https://docs.astro.build/logos/netlify.svg)
  ### @astrojs/netlify
- ![](https://docs.astro.build/logos/node.svg)
  ### @astrojs/node
- ![](https://docs.astro.build/logos/vercel.svg)
  ### @astrojs/vercel

### Other integrations

- ![](https://docs.astro.build/logos/db.svg)
  ### @astrojs/db
- ![](https://docs.astro.build/logos/markdoc.svg)
  ### @astrojs/markdoc
- ![](https://docs.astro.build/logos/mdx.svg)
  ### @astrojs/mdx
- ![](https://docs.astro.build/logos/partytown.svg)
  ### @astrojs/partytown
- ![](https://docs.astro.build/logos/sitemap.svg)
  ### @astrojs/sitemap

  Learn     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# @astrojs/sitemap

> Learn how to use the @astrojs/sitemap integration in your Astro project.

# @astrojs/sitemap

  v3.7.0 [GitHub](https://github.com/withastro/astro/tree/main/packages/integrations/sitemap/) [npm](https://www.npmjs.com/package/@astrojs/sitemap) [Changelog](https://github.com/withastro/astro/tree/main/packages/integrations/sitemap/CHANGELOG.md)

This **Astro integration** generates a sitemap based on your pages when you build your Astro project.

## Why Astro Sitemap

[Section titled ‚ÄúWhy Astro Sitemap‚Äù](#why-astro-sitemap)

A Sitemap is an XML file that outlines all of the pages, videos, and files on your site. Search engines like Google read this file to crawl your site more efficiently. [See Google‚Äôs own advice on sitemaps](https://developers.google.com/search/docs/advanced/sitemaps/overview) to learn more.

A sitemap file is recommended for large multi-page sites. If you don‚Äôt use a sitemap, most search engines will still be able to list your site‚Äôs pages, but a sitemap is a great way to ensure that your site is as search engine friendly as possible.

With Astro Sitemap, you don‚Äôt have to worry about creating this XML file yourself: the Astro Sitemap integration will crawl your statically-generated routes and create the sitemap file, including [dynamic routes](https://docs.astro.build/en/guides/routing/#dynamic-routes) like `[...slug]` or `src/pages/[lang]/[version]/info.astro` generated by `getStaticPaths()`.

This integration cannot generate sitemap entries for dynamic routes in [SSR mode](https://docs.astro.build/en/guides/on-demand-rendering/).

## Installation

[Section titled ‚ÄúInstallation‚Äù](#installation)

Astro includes an `astro add` command to automate the setup of official integrations. If you prefer, you can [install integrations manually](#manual-install) instead.

Run one of the following commands in a new terminal window.

- [npm](#tab-panel-3013)
- [pnpm](#tab-panel-3014)
- [Yarn](#tab-panel-3015)

   Terminal window

```
npx astro add sitemap
```

   Terminal window

```
pnpm astro add sitemap
```

   Terminal window

```
yarn astro add sitemap
```

If you run into any issues, [feel free to report them to us on GitHub](https://github.com/withastro/astro/issues) and try the manual installation steps below.

### Manual Install

[Section titled ‚ÄúManual Install‚Äù](#manual-install)

First, install the `@astrojs/sitemap` package using your package manager.

- [npm](#tab-panel-3016)
- [pnpm](#tab-panel-3017)
- [Yarn](#tab-panel-3018)

   Terminal window

```
npm install @astrojs/sitemap
```

   Terminal window

```
pnpm add @astrojs/sitemap
```

   Terminal window

```
yarn add @astrojs/sitemap
```

Then, apply the integration to your `astro.config.*` file using the `integrations` property:

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  // ...  integrations: [sitemap()],});
```

## Usage

[Section titled ‚ÄúUsage‚Äù](#usage)

`@astrojs/sitemap` needs to know your site‚Äôs deployed URL to generate a sitemap.

Add your site‚Äôs URL as the [site](https://docs.astro.build/en/reference/configuration-reference/#site) option in `astro.config.mjs`. This must begin with `http://` or `https://`.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [sitemap()],  // ...});
```

With the sitemap integration configured, `sitemap-index.xml` and `sitemap-0.xml` files will be added to your output directory when building your site.

`sitemap-index.xml` links to all the numbered sitemap files.
`sitemap-0.xml` lists the pages on your site.
For extremely large sites, there may also be additional numbered files like `sitemap-1.xml` and `sitemap-2.xml`.

 Example of generated files for a two-page websitesitemap-index.xml

```
<?xml version="1.0" encoding="UTF-8"?>  <sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">  <sitemap>    <loc>https://example.com/sitemap-0.xml</loc>  </sitemap></sitemapindex>
```

sitemap-0.xml

```
<?xml version="1.0" encoding="UTF-8"?><urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:news="http://www.google.com/schemas/sitemap-news/0.9" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:image="http://www.google.com/schemas/sitemap-image/1.1" xmlns:video="http://www.google.com/schemas/sitemap-video/1.1">  <url>    <loc>https://example.com/</loc>  </url>  <url>    <loc>https://example.com/second-page/</loc>  </url></urlset>
```

### Sitemap discovery

[Section titled ‚ÄúSitemap discovery‚Äù](#sitemap-discovery)

You can make it easier for crawlers to find your sitemap with links in your site‚Äôs `<head>` and `robots.txt` file.

#### Sitemap link in<head>

[Section titled ‚ÄúSitemap link in <head>‚Äù](#sitemap-link-in-head)

Add a `<link rel="sitemap">` element to your site‚Äôs `<head>` pointing to the sitemap index file:

 src/layouts/Layout.astro

```
<head>  <link rel="sitemap" href="/sitemap-index.xml" /></head>
```

#### Sitemap link inrobots.txt

[Section titled ‚ÄúSitemap link in robots.txt‚Äù](#sitemap-link-in-robotstxt)

If you have a `robots.txt` for your website, you can add the URL for the sitemap index to help crawlers:

 public/robots.txt

```
User-agent: *Allow: /
Sitemap: https://<YOUR SITE>/sitemap-index.xml
```

If you want to reuse the `site` value from `astro.config.mjs`, you can also generate `robots.txt` dynamically.
Instead of using a static file in the `public/` directory, create a `src/pages/robots.txt.ts` file and add the following code:

 src/pages/robots.txt.ts

```
import type { APIRoute } from 'astro';
const getRobotsTxt = (sitemapURL: URL) => `\User-agent: *Allow: /
Sitemap: ${sitemapURL.href}`;
export const GET: APIRoute = ({ site }) => {  const sitemapURL = new URL('sitemap-index.xml', site);  return new Response(getRobotsTxt(sitemapURL));};
```

## Configuration

[Section titled ‚ÄúConfiguration‚Äù](#configuration)

To configure this integration, pass an object to the `sitemap()` function in `astro.config.mjs`.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  integrations: [    sitemap({      // configuration options    }),  ],});
```

### filter

[Section titled ‚Äúfilter‚Äù](#filter)

**Type:** `(page: string) => boolean`

All pages are included in your sitemap by default. By adding a custom `filter` function, you can filter included pages by URL.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      filter: (page) => page !== 'https://example.com/secret-vip-lounge/',    }),  ],});
```

The function will be called for every page on your site. The `page` function parameter is the full URL of the page currently under consideration, including your `site` domain. Return `true` to include the page in your sitemap, and `false` to leave it out.

To filter multiple pages, add arguments with target URLs.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      filter: (page) =>        page !== 'https://example.com/secret-vip-lounge-1/' &&        page !== 'https://example.com/secret-vip-lounge-2/' &&        page !== 'https://example.com/secret-vip-lounge-3/' &&        page !== 'https://example.com/secret-vip-lounge-4/',    }),  ],});
```

### customPages

[Section titled ‚ÄúcustomPages‚Äù](#custompages)

**Type:** `string[]`

An array of externally-generated pages to be included in the generated sitemap file.

Use this option to include pages in your sitemap that are a part of your deployed site but are not created by Astro.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      customPages: ['https://example.com/external-page1', 'https://example.com/external-page2'],    }),  ],});
```

### customSitemaps

[Section titled ‚ÄúcustomSitemaps‚Äù](#customsitemaps)

**Type:** `string[]`
 **Default:** `[]`

 **Added in:** `@astrojs/sitemap@3.5.0`

An array of externally-generated sitemaps to be included in the `sitemap-index.xml` file along with the generated sitemap entries.

Use this option to include external sitemaps in the `sitemap-index.xml` file created by Astro for sections of your deployed site that have their own sitemaps not created by Astro. This is helpful when you host multiple services under the same domain.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      customSitemaps: ['https://example.com/blog/sitemap.xml', 'https://example.com/shop/sitemap.xml'],    }),  ],});
```

### entryLimit

[Section titled ‚ÄúentryLimit‚Äù](#entrylimit)

**Type:** `number`
 **Default:** `45000`

The maximum number entries per sitemap file. The default value is 45000. A sitemap index and multiple sitemaps are created if you have more entries. See this [explanation of splitting up a large sitemap](https://developers.google.com/search/docs/advanced/sitemaps/large-sitemaps).

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      entryLimit: 10000,    }),  ],});
```

### changefreq,lastmod, andpriority

[Section titled ‚Äúchangefreq, lastmod, and priority‚Äù](#changefreq-lastmod-and-priority)

**Type:** `{ changefreq?: ChangeFreq; lastmod?: Date; priority?: number; }`

 **Added in:** `@astrojs/sitemap@0.2.0`

These options correspond to the `<changefreq>`, `<lastmod>`, and `<priority>` tags in the [Sitemap XML specification.](https://www.sitemaps.org/protocol.html)

Note that `changefreq` and `priority` are ignored by Google.

  astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      changefreq: 'weekly',      priority: 0.7,      lastmod: new Date('2022-02-24'),    }),  ],});
```

### serialize

[Section titled ‚Äúserialize‚Äù](#serialize)

**Type:** `(item: SitemapItem) => SitemapItem | Promise<SitemapItem | undefined> | undefined`

A function called for each sitemap entry just before writing to a disk. This function can be asynchronous.

It receives as its parameter a `SitemapItem` object that can have these properties:

- `url` (absolute page URL). This is the only property that is guaranteed to be on `SitemapItem`.
- `changefreq`
- `lastmod` (ISO formatted date, `String` type)
- `priority`
- `links`.

This `links` property contains a `LinkItem` list of alternate pages including a parent page.

The `LinkItem` type has two fields: `url` (the fully-qualified URL for the version of this page for the specified language) and `lang` (a supported language code targeted by this version of the page).

The `serialize` function should return `SitemapItem`, touched or not.

The example below shows the ability to add sitemap specific properties individually.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      serialize(item) {        if (/exclude-from-sitemap/.test(item.url)) {          return undefined;        }        if (/your-special-page/.test(item.url)) {          item.changefreq = 'daily';          item.lastmod = new Date();          item.priority = 0.9;        }        return item;      },    }),  ],});
```

### chunks

[Section titled ‚Äúchunks‚Äù](#chunks)

**Type:** `Record<string, (item: SitemapItem) => SitemapItem | undefined>`

 **Added in:** `@astrojs/sitemap@3.7.0` New

A map of functions that allows you to split your sitemap into multiple files based on custom logic. Each key in the object becomes the name of a separate sitemap file, and its corresponding function determines which URLs will be included in that chunk. This can be useful for instance if a specific section of your website changes very often and you‚Äôd like to specify a different change frequency for its entries.

Each chunk function receives a `SitemapItem` and for each item returns either:

- the modified `SitemapItem`, if the URL should be included in this chunk
- `undefined`, if the URL should not be included in this chunk

The example below shows how to split URLs into different sitemap files based on their path:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      chunks: {        'blog': (item) => {          if (/blog/.test(item.url)) {            item.changefreq = 'weekly';            item.lastmod = new Date();            item.priority = 0.9;            return item;          }        },        'glossary': (item) => {          if (/glossary/.test(item.url)) {            item.changefreq = 'monthly';            item.lastmod = new Date();            item.priority = 0.7;            return item;          }        }      },    }),  ],});
```

This configuration will generate the following files:

- `sitemap-blog-0.xml`
- `sitemap-glossary-0.xml`

URLs that don‚Äôt match any chunk will be placed in a default `sitemap-pages-0.xml` file.

### i18n

[Section titled ‚Äúi18n‚Äù](#i18n)

**Type:** `{ defaultLocale: string; locales: Record<string, string>; }`

To [localize a sitemap](https://developers.google.com/search/docs/advanced/crawling/localized-versions#all-method-guidelines), pass an object to this `i18n` option.

This object has two required properties:

- `defaultLocale`: Its value must exist as one of `locales` keys.
- `locales`: key/value - pairs. The key is used to look for a locale part in a page path. The value is a [language attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang), only English alphabet and hyphen allowed.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      i18n: {        defaultLocale: 'en', // All urls that don't contain `es` or `fr` after `https://example.com/` will be treated as default locale, i.e. `en`        locales: {          en: 'en-US', // The `defaultLocale` value must present in `locales` keys          es: 'es-ES',          fr: 'fr-CA',        },      },    }),  ],});
```

The resulting sitemap looks like this:

 sitemap-0.xml

```
...  <url>    <loc>https://example.com/</loc>    <xhtml:link rel="alternate" hreflang="en-US" href="https://example.com/"/>    <xhtml:link rel="alternate" hreflang="es-ES" href="https://example.com/es/"/>    <xhtml:link rel="alternate" hreflang="fr-CA" href="https://example.com/fr/"/>  </url>  <url>    <loc>https://example.com/es/</loc>    <xhtml:link rel="alternate" hreflang="en-US" href="https://example.com/"/>    <xhtml:link rel="alternate" hreflang="es-ES" href="https://example.com/es/"/>    <xhtml:link rel="alternate" hreflang="fr-CA" href="https://example.com/fr/"/>  </url>  <url>    <loc>https://example.com/fr/</loc>    <xhtml:link rel="alternate" hreflang="en-US" href="https://example.com/"/>    <xhtml:link rel="alternate" hreflang="es-ES" href="https://example.com/es/"/>    <xhtml:link rel="alternate" hreflang="fr-CA" href="https://example.com/fr/"/>  </url>  <url>    <loc>https://example.com/es/second-page/</loc>    <xhtml:link rel="alternate" hreflang="es-ES" href="https://example.com/es/second-page/"/>    <xhtml:link rel="alternate" hreflang="fr-CA" href="https://example.com/fr/second-page/"/>    <xhtml:link rel="alternate" hreflang="en-US" href="https://example.com/second-page/"/>  </url>...
```

### xslURL

[Section titled ‚ÄúxslURL‚Äù](#xslurl)

**Type:** `string`

 **Added in:** `@astrojs/sitemap@3.2.0`

The URL of an XSL stylesheet to style and prettify your sitemap.

The value set can be either a path relative to your configured `site` URL for a local stylesheet, or can be an absolute URL link to an external stylesheet.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      xslURL: '/sitemap.xsl'    }),  ],});
```

### filenameBase

[Section titled ‚ÄúfilenameBase‚Äù](#filenamebase)

**Type:** `string`
 **Default:** `sitemap`

 **Added in:** `@astrojs/sitemap@3.4.0`

The name prefix string used when generating the sitemap XML files. The default value is `sitemap`.

This option may be useful when integrating an Astro site into a domain with preexisting sitemap files.

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      filenameBase: 'astronomy-sitemap'    }),  ],});
```

The given configuration will generate sitemap files at `https://example.com/astronomy-sitemap-0.xml` and `https://example.com/astronomy-sitemap-index.xml`.

### namespaces

[Section titled ‚Äúnamespaces‚Äù](#namespaces)

**Type:** `{ news?: boolean; xhtml?: boolean; image?: boolean; video?: boolean; }`
 **Default:** `{ news: true, xhtml: true, image: true, video: true }`

 **Added in:** `@astrojs/sitemap@3.6.0`

An object of XML namespaces to exclude from the generated sitemap.

Excluding unused namespaces can help create more focused sitemaps that are faster for search engines to parse and use less bandwidth. For example, if your site doesn‚Äôt have news content, videos, or multiple languages, you can exclude those namespaces to reduce XML bloat.

By default, all configurable namespaces (`news`, `xhtml`, `image`, and `video`) are included in your generated sitemap XML. To exclude one or more of these namespaces from your sitemap generation, add a `namespaces` configuration object and set individual options to `false`:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import sitemap from '@astrojs/sitemap';
export default defineConfig({  site: 'https://example.com',  integrations: [    sitemap({      namespaces: {        news: false,        xhtml: false,      }    })  ]});
```

## Examples

[Section titled ‚ÄúExamples‚Äù](#examples)

- The official Astro website uses Astro Sitemap to generate [its sitemap](https://astro.build/sitemap-index.xml).
- [Browse projects with Astro Sitemap on GitHub](https://github.com/search?q=%22%40astrojs%2Fsitemap%22+path%3Apackage.json&type=Code) for more examples!

## More integrations

### Front-end frameworks

- ![](https://docs.astro.build/logos/alpine-js.svg)
  ### @astrojs/alpinejs
- ![](https://docs.astro.build/logos/preact.svg)
  ### @astrojs/preact
- ![](https://docs.astro.build/logos/react.svg)
  ### @astrojs/react
- ![](https://docs.astro.build/logos/solid.svg)
  ### @astrojs/solid‚Å†-‚Å†js
- ![](https://docs.astro.build/logos/svelte.svg)
  ### @astrojs/svelte
- ![](https://docs.astro.build/logos/vue.svg)
  ### @astrojs/vue

### Adapters

- ![](https://docs.astro.build/logos/cloudflare-pages.svg)
  ### @astrojs/cloudflare
- ![](https://docs.astro.build/logos/netlify.svg)
  ### @astrojs/netlify
- ![](https://docs.astro.build/logos/node.svg)
  ### @astrojs/node
- ![](https://docs.astro.build/logos/vercel.svg)
  ### @astrojs/vercel

### Other integrations

- ![](https://docs.astro.build/logos/db.svg)
  ### @astrojs/db
- ![](https://docs.astro.build/logos/markdoc.svg)
  ### @astrojs/markdoc
- ![](https://docs.astro.build/logos/mdx.svg)
  ### @astrojs/mdx
- ![](https://docs.astro.build/logos/partytown.svg)
  ### @astrojs/partytown
- ![](https://docs.astro.build/logos/sitemap.svg)
  ### @astrojs/sitemap

  Learn     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# @astrojs/solid

> Learn how to use the @astrojs/solid-js framework integration to extend component support in your Astro project.

# @astrojs/solid-js

  v5.1.3 [GitHub](https://github.com/withastro/astro/tree/main/packages/integrations/solid/) [npm](https://www.npmjs.com/package/@astrojs/solid-js) [Changelog](https://github.com/withastro/astro/tree/main/packages/integrations/solid/CHANGELOG.md)

This **Astro integration** enables rendering and client-side hydration for your [SolidJS](https://www.solidjs.com/) components.

## Installation

[Section titled ‚ÄúInstallation‚Äù](#installation)

Astro includes an `astro add` command to automate the setup of official integrations. If you prefer, you can [install integrations manually](#manual-install) instead.

To install `@astrojs/solid-js`, run the following from your project directory and follow the prompts:

- [npm](#tab-panel-3019)
- [pnpm](#tab-panel-3020)
- [Yarn](#tab-panel-3021)

   Terminal window

```
npx astro add solid
```

   Terminal window

```
pnpm astro add solid
```

   Terminal window

```
yarn astro add solid
```

If you run into any issues, [feel free to report them to us on GitHub](https://github.com/withastro/astro/issues) and try the manual installation steps below.

### Manual Install

[Section titled ‚ÄúManual Install‚Äù](#manual-install)

First, install the `@astrojs/solid-js` package:

- [npm](#tab-panel-3022)
- [pnpm](#tab-panel-3023)
- [Yarn](#tab-panel-3024)

   Terminal window

```
npm install @astrojs/solid-js
```

   Terminal window

```
pnpm add @astrojs/solid-js
```

   Terminal window

```
yarn add @astrojs/solid-js
```

Most package managers will install associated peer dependencies as well. If you see a `Cannot find package 'solid-js'` (or similar) warning when you start up Astro, you‚Äôll need to install SolidJS:

- [npm](#tab-panel-3025)
- [pnpm](#tab-panel-3026)
- [Yarn](#tab-panel-3027)

   Terminal window

```
npm install solid-js
```

   Terminal window

```
pnpm add solid-js
```

   Terminal window

```
yarn add solid-js
```

Then, apply the integration to your `astro.config.*` file using the `integrations` property:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import solidJs from '@astrojs/solid-js';
export default defineConfig({  // ...  integrations: [solidJs()],});
```

And add the following code to the `tsconfig.json` file.

 tsconfig.json

```
{  "extends": "astro/tsconfigs/strict",  "include": [".astro/types.d.ts", "**/*"],  "exclude": ["dist"],  "compilerOptions": {    "jsx": "preserve",    "jsxImportSource": "solid-js"  }}
```

## Getting started

[Section titled ‚ÄúGetting started‚Äù](#getting-started)

To use your first SolidJS component in Astro, head to our [UI framework documentation](https://docs.astro.build/en/guides/framework-components/#using-framework-components). You‚Äôll explore:

- üì¶ how framework components are loaded,
- üíß client-side hydration options, and
- ü§ù opportunities to mix and nest frameworks together

## Configuration

[Section titled ‚ÄúConfiguration‚Äù](#configuration)

### devtools

[Section titled ‚Äúdevtools‚Äù](#devtools)

**Type:** `boolean`

 **Added in:** `@astrojs/solid-js@4.2.0`

You can enable [Solid DevTools](https://github.com/thetarnav/solid-devtools) in development by passing an object with `devtools: true` to your `solid()` integration config and adding `solid-devtools` to your project dependencies:

- [npm](#tab-panel-3028)
- [pnpm](#tab-panel-3029)
- [Yarn](#tab-panel-3030)

   Terminal window

```
npm install solid-devtools
```

   Terminal window

```
pnpm add solid-devtools
```

   Terminal window

```
yarn add solid-devtools
```

    astro.config.mjs

```
import { defineConfig } from 'astro/config';import solid from '@astrojs/solid-js';
export default defineConfig({  // ...  integrations: [solid({ devtools: true })],});
```

## Options

[Section titled ‚ÄúOptions‚Äù](#options)

### Combining multiple JSX frameworks

[Section titled ‚ÄúCombining multiple JSX frameworks‚Äù](#combining-multiple-jsx-frameworks)

When you are using multiple JSX frameworks (React, Preact, Solid) in the same project, Astro needs to determine which JSX framework-specific transformations should be used for each of your components. If you have only added one JSX framework integration to your project, no extra configuration is needed.

Use the `include` (required) and `exclude` (optional) configuration options to specify which files belong to which framework. Provide an array of files and/or folders to `include` for each framework you are using. Wildcards may be used to include multiple file paths.

We recommend placing common framework components in the same folder (e.g. `/components/react/` and `/components/solid/`) to make specifying your includes easier, but this is not required:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import preact from '@astrojs/preact';import react from '@astrojs/react';import svelte from '@astrojs/svelte';import vue from '@astrojs/vue';import solid from '@astrojs/solid-js';
export default defineConfig({  // Enable many frameworks to support all different kinds of components.  // No `include` is needed if you are only using a single JSX framework!  integrations: [    preact({      include: ['**/preact/*'],    }),    react({      include: ['**/react/*'],    }),    solid({      include: ['**/solid/*', '**/node_modules/@suid/material/**'],    }),  ],});
```

## Usage

[Section titled ‚ÄúUsage‚Äù](#usage)

Use a SolidJS component as you would any [UI framework component](https://docs.astro.build/en/guides/framework-components/).

### Suspense Boundaries

[Section titled ‚ÄúSuspense Boundaries‚Äù](#suspense-boundaries)

In order to support Solid Resources and Lazy Components without excessive configuration, server-only and hydrating components are automatically wrapped in top-level Suspense boundaries and rendered on the server using the [renderToStringAsync](https://www.solidjs.com/docs/latest/api#rendertostringasync) function. Therefore, you do not need to add a top-level Suspense boundary around async components.

For example, you can use Solid‚Äôs [createResource](https://www.solidjs.com/docs/latest/api#createresource) to fetch async remote data on the server. The remote data will be included in the initial server-rendered HTML from Astro:

 CharacterName.tsx

```
function CharacterName() {  const [name] = createResource(() =>    fetch('https://swapi.dev/api/people/1')      .then((result) => result.json())      .then((data) => data.name)  );
  return (    <>      <h2>Name:</h2>      {/* Luke Skywalker */}      <div>{name()}</div>    </>  );}
```

Similarly, Solid‚Äôs [Lazy Components](https://www.solidjs.com/docs/latest/api#lazy) will also be resolved and their HTML will be included in the initial server-rendered page.

Non-hydrating [client:onlycomponents](https://docs.astro.build/en/reference/directives-reference/#clientonly) are not automatically wrapped in Suspense boundaries.

Feel free to add additional Suspense boundaries according to your preference.

## More integrations

### Front-end frameworks

- ![](https://docs.astro.build/logos/alpine-js.svg)
  ### @astrojs/alpinejs
- ![](https://docs.astro.build/logos/preact.svg)
  ### @astrojs/preact
- ![](https://docs.astro.build/logos/react.svg)
  ### @astrojs/react
- ![](https://docs.astro.build/logos/solid.svg)
  ### @astrojs/solid‚Å†-‚Å†js
- ![](https://docs.astro.build/logos/svelte.svg)
  ### @astrojs/svelte
- ![](https://docs.astro.build/logos/vue.svg)
  ### @astrojs/vue

### Adapters

- ![](https://docs.astro.build/logos/cloudflare-pages.svg)
  ### @astrojs/cloudflare
- ![](https://docs.astro.build/logos/netlify.svg)
  ### @astrojs/netlify
- ![](https://docs.astro.build/logos/node.svg)
  ### @astrojs/node
- ![](https://docs.astro.build/logos/vercel.svg)
  ### @astrojs/vercel

### Other integrations

- ![](https://docs.astro.build/logos/db.svg)
  ### @astrojs/db
- ![](https://docs.astro.build/logos/markdoc.svg)
  ### @astrojs/markdoc
- ![](https://docs.astro.build/logos/mdx.svg)
  ### @astrojs/mdx
- ![](https://docs.astro.build/logos/partytown.svg)
  ### @astrojs/partytown
- ![](https://docs.astro.build/logos/sitemap.svg)
  ### @astrojs/sitemap

  Learn     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# @astrojs/svelte

> Learn how to use the @astrojs/svelte framework integration to extend component support in your Astro project.

# @astrojs/svelte

  v7.2.5 [GitHub](https://github.com/withastro/astro/tree/main/packages/integrations/svelte/) [npm](https://www.npmjs.com/package/@astrojs/svelte) [Changelog](https://github.com/withastro/astro/tree/main/packages/integrations/svelte/CHANGELOG.md)

This **Astro integration** enables rendering and client-side hydration for your [Svelte](https://svelte.dev/) 5 components. For Svelte 3 and 4 support, install `@astrojs/svelte@5` instead.

## Installation

[Section titled ‚ÄúInstallation‚Äù](#installation)

Astro includes an `astro add` command to automate the setup of official integrations. If you prefer, you can [install integrations manually](#manual-install) instead.

To install `@astrojs/svelte`, run the following from your project directory and follow the prompts:

- [npm](#tab-panel-3031)
- [pnpm](#tab-panel-3032)
- [Yarn](#tab-panel-3033)

   Terminal window

```
npx astro add svelte
```

   Terminal window

```
pnpm astro add svelte
```

   Terminal window

```
yarn astro add svelte
```

If you run into any issues, [feel free to report them to us on GitHub](https://github.com/withastro/astro/issues) and try the manual installation steps below.

### Manual Install

[Section titled ‚ÄúManual Install‚Äù](#manual-install)

First, install the `@astrojs/svelte` package:

- [npm](#tab-panel-3034)
- [pnpm](#tab-panel-3035)
- [Yarn](#tab-panel-3036)

   Terminal window

```
npm install @astrojs/svelte
```

   Terminal window

```
pnpm add @astrojs/svelte
```

   Terminal window

```
yarn add @astrojs/svelte
```

Most package managers will install associated peer dependencies as well. If you see a `Cannot find package 'svelte'` (or similar) warning when you start up Astro, you‚Äôll need to install Svelte and TypeScript:

- [npm](#tab-panel-3037)
- [pnpm](#tab-panel-3038)
- [Yarn](#tab-panel-3039)

   Terminal window

```
npm install svelte typescript
```

   Terminal window

```
pnpm add svelte typescript
```

   Terminal window

```
yarn add svelte typescript
```

Then, apply the integration to your `astro.config.*` file using the `integrations` property:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import svelte from '@astrojs/svelte';
export default defineConfig({  // ...  integrations: [svelte()],});
```

And create a new file called `svelte.config.js` in your project root directory and add the following code:

 svelte.config.js

```
import { vitePreprocess } from '@astrojs/svelte';
export default {  preprocess: vitePreprocess(),}
```

## Getting started

[Section titled ‚ÄúGetting started‚Äù](#getting-started)

To use your first Svelte component in Astro, head to our [UI framework documentation](https://docs.astro.build/en/guides/framework-components/#using-framework-components). You‚Äôll explore:

- üì¶ how framework components are loaded,
- üíß client-side hydration options, and
- ü§ù opportunities to mix and nest frameworks together

## Options

[Section titled ‚ÄúOptions‚Äù](#options)

This integration is powered by `@sveltejs/vite-plugin-svelte`. To customize the Svelte compiler, options can be provided to the integration. See the [@sveltejs/vite-plugin-sveltedocs](https://github.com/sveltejs/vite-plugin-svelte/blob/HEAD/docs/config.md) for more details.

You can set options either by passing them to the `svelte` integration in `astro.config.mjs` or in `svelte.config.js`. The options in `astro.config.mjs` will take precedence over the options in `svelte.config.js` if both are present:

 astro.config.mjs

```
import { defineConfig } from 'astro/config';import svelte from '@astrojs/svelte';
export default defineConfig({  integrations: [svelte({ extensions: ['.svelte'] })],});
```

 svelte.config.js

```
export default {  extensions: ['.svelte'],};
```

## Preprocessors

[Section titled ‚ÄúPreprocessors‚Äù](#preprocessors)  **Added in:** `@astrojs/svelte@2.0.0`

If you‚Äôre using SCSS or Stylus in your Svelte files, you can create a `svelte.config.js` file so that they are preprocessed by Svelte, and the Svelte IDE extension can correctly parse the Svelte files.

 svelte.config.js

```
import { vitePreprocess } from '@astrojs/svelte';
export default {  preprocess: vitePreprocess(),};
```

This config file will be automatically added for you when you run `astro add svelte`. See the [@sveltejs/vite-plugin-sveltedocs](https://github.com/sveltejs/vite-plugin-svelte/blob/HEAD/docs/preprocess.md) for more details about `vitePreprocess`.

## More integrations

### Front-end frameworks

- ![](https://docs.astro.build/logos/alpine-js.svg)
  ### @astrojs/alpinejs
- ![](https://docs.astro.build/logos/preact.svg)
  ### @astrojs/preact
- ![](https://docs.astro.build/logos/react.svg)
  ### @astrojs/react
- ![](https://docs.astro.build/logos/solid.svg)
  ### @astrojs/solid‚Å†-‚Å†js
- ![](https://docs.astro.build/logos/svelte.svg)
  ### @astrojs/svelte
- ![](https://docs.astro.build/logos/vue.svg)
  ### @astrojs/vue

### Adapters

- ![](https://docs.astro.build/logos/cloudflare-pages.svg)
  ### @astrojs/cloudflare
- ![](https://docs.astro.build/logos/netlify.svg)
  ### @astrojs/netlify
- ![](https://docs.astro.build/logos/node.svg)
  ### @astrojs/node
- ![](https://docs.astro.build/logos/vercel.svg)
  ### @astrojs/vercel

### Other integrations

- ![](https://docs.astro.build/logos/db.svg)
  ### @astrojs/db
- ![](https://docs.astro.build/logos/markdoc.svg)
  ### @astrojs/markdoc
- ![](https://docs.astro.build/logos/mdx.svg)
  ### @astrojs/mdx
- ![](https://docs.astro.build/logos/partytown.svg)
  ### @astrojs/partytown
- ![](https://docs.astro.build/logos/sitemap.svg)
  ### @astrojs/sitemap

  Learn     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)
