# Dev Toolbar App API and more

# Dev Toolbar App API

# Dev Toolbar App API

The Astro Dev Toolbar App API allows you to create [Astro Integrations](https://docs.astro.build/en/reference/integrations-reference/) that add apps to the Astro Dev Toolbar. This allows you to add new features and integrations with third-party services.

   ![](https://docs.astro.build/houston_chef.webp) **Related recipe:** [Create a dev toolbar app](https://docs.astro.build/en/recipes/making-toolbar-apps/)

## Toolbar app integration setup

[Section titled “Toolbar app integration setup”](#toolbar-app-integration-setup)

Integrations can add apps to the dev toolbar in [theastro:config:setuphook](https://docs.astro.build/en/reference/integrations-reference/#astroconfigsetup).

 my-integration.js

```
/** * @type {() => import('astro').AstroIntegration} */export default () => ({  name: "my-integration",  hooks: {    "astro:config:setup": ({ addDevToolbarApp }) => {      addDevToolbarApp({        id: "my-app",        name: "My App",        icon: "<svg>...</svg>",        entrypoint: "./my-app.js",      });    },  },});
```

### addDevToolbarApp()

[Section titled “addDevToolbarApp()”](#adddevtoolbarapp)

**Type:** `(entrypoint: DevToolbarAppEntry) => void`

 **Added in:** `astro@4.0.0`

A function available to [theastro:config:setuphook](https://docs.astro.build/en/reference/integrations-reference/#astroconfigsetup) that adds dev toolbar apps. It takes an object with the following required properties to define the toolbar app: [id](#id), [name](#name), and [entrypoint](#entrypoint). Optionally, you can also define an [icon](#icon) for your app.

### id

[Section titled “id”](#id)

**Type:** `string`

A unique identifier for the app. This will be used to uniquely identify the app in hooks and events.

 my-integration.js

```
{  id: 'my-app',  // ...}
```

### name

[Section titled “name”](#name)

**Type:** `string`

The name of the app. This will be shown to users whenever the app needs to be referenced using a human-readable name.

 my-integration.js

```
{  // ...  name: 'My App',  // ...}
```

### icon

[Section titled “icon”](#icon)

**Type:** `Icon | string`
 **Default**: `"?"`

The icon used to display the app in the toolbar. This can either be an icon from [the icon list](#icons), or a string containing the SVG markup of the icon.

 my-integration.js

```
{  // ...  icon: '<svg>...</svg>', // or, e.g. 'astro:logo'  // ...}
```

### entrypoint

[Section titled “entrypoint”](#entrypoint)

**Type:** `string | URL`

The path to the file that exports the dev toolbar app.

 my-integration.js

```
{  // ...  entrypoint: './my-app.js',}
```

**Added in:** `astro@5.0.0`

The function also accepts a `URL` as `entrypoint`:

 my-integration.js

```
/** * @type {() => import('astro').AstroIntegration} */export default () => ({  name: "my-integration",  hooks: {    "astro:config:setup": ({ addDevToolbarApp }) => {      addDevToolbarApp({        id: "my-app",        name: "My App",        icon: "<svg>...</svg>",        entrypoint: new URL("./my-app.js", import.meta.url),      });    },  },});
```

## Structure of a Dev Toolbar App

[Section titled “Structure of a Dev Toolbar App”](#structure-of-a-dev-toolbar-app)

A Dev Toolbar App is a `.js` or `.ts` file that default exports an object using the [defineToolbarApp()function](#definetoolbarapp) available from the `astro/toolbar` module.

 src/my-app.js

```
import { defineToolbarApp } from "astro/toolbar";
export default defineToolbarApp({  init(canvas) {    const text = document.createTextNode('Hello World!');    canvas.appendChild(text);  },  beforeTogglingOff() {    const confirmation = window.confirm('Really exit?');    return confirmation;  }});
```

### defineToolbarApp()

[Section titled “defineToolbarApp()”](#definetoolbarapp)

**Type:** `(app: DevToolbarApp) => DevToolbarApp`

 **Added in:** `astro@4.7.0`

A function that defines the logic of your toolbar app when it is loaded and toggled off.

This function takes an object with an [init()](#init) function that will be called when the dev toolbar app is loaded. It can also take a [beforeTogglingOff()](#beforetogglingoff) function that will run when the toolbar app is clicked to toggle off its active status.

### init()

[Section titled “init()”](#init)

**Type:** `(canvas: ShadowRoot, app: ToolbarAppEventTarget, server: ToolbarServerHelpers) => void | Promise<void>`

Although not required, most apps will use this function to define the core behavior of the app. This function will be called only once when the app is loaded, which will either be when the browser is idle or when the user clicks on the app in the UI, depending on which one comes first.

The function receives three arguments to define your app logic: [canvas](#canvas) (to render elements to the screen), [app](#app) (to send and receive client-side events from the dev toolbar), and [server](#server) (to communicate with the server).

#### canvas

[Section titled “canvas”](#canvas)

**Type:** `ShadowRoot`

A standard [ShadowRoot](https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot) that the app can use to render its UI. Elements can be created and added to the ShadowRoot using the standard DOM APIs.

Every app receives its own dedicated ShadowRoot for rendering its UI. Additionally, the parent element is positioned using `position: absolute;` so the app UI will not affect the layout of an Astro page.

 src/my-app.js

```
export default defineToolbarApp({  init(canvas) {    canvas.appendChild(document.createTextNode('Hello World!'))  }});
```

#### app

[Section titled “app”](#app)

**Type:** `ToolbarAppEventTarget`

 **Added in:** `astro@4.7.0`

A standard [EventTarget](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget) with a few additional [helpers for client-side events](#client-side-events) that can be used to send and receive events from the Dev toolbar.

 src/my-app.js

```
export default defineToolbarApp({  init(canvas, app) {    app.onToggled(({ state }) => {      const text = document.createTextNode(        `The app is now ${state ? "enabled" : "disabled"}!`,      );      canvas.appendChild(text);    });  },});
```

#### server

[Section titled “server”](#server)

**Type:** `ToolbarServerHelpers`

 **Added in:** `astro@4.7.0`

An object that can be used to [communicate with the server](#client-server-communication).

 src/my-app.js

```
export default defineToolbarApp({  init(canvas, app, server) {    server.send('my-message', { message: 'Hello!' });
    server.on('server-message', (data) => {      console.log(data.message);    });  },});
```

### beforeTogglingOff()

[Section titled “beforeTogglingOff()”](#beforetogglingoff)

**Type:** `(canvas: ShadowRoot) => boolean | Promise<boolean>`

 **Added in:** `astro@4.7.0`

This optional function will be called when the user clicks on the app icon in the UI to toggle off the app. This function can be used, for example, to perform cleanup operations, or to ask the user for confirmation before toggling off the app.

If a falsy value is returned, the toggling off will be cancelled and the app will stay enabled.

 src/my-app.js

```
export default defineToolbarApp({  // ...  beforeTogglingOff() {    const confirmation = window.confirm('Are you sure you want to disable this app?');    return confirmation;  }});
```

#### canvas

[Section titled “canvas”](#canvas-1)

**Type:** `ShadowRoot`

The ShadowRoot of the app, can be used to render any UI needed before closing. Same as the [canvasargument of theinitfunction](#canvas).

## Client-side Events

[Section titled “Client-side Events”](#client-side-events)

In addition to the standard methods of an `EventTarget` ([addEventListener](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget), [dispatchEvent](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent), [removeEventListener](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener)etc.), the [app](#app) object also has the following methods:

### onToggled()

[Section titled “onToggled()”](#ontoggled)

**Type:** `(callback: (options: {state: boolean})) => void`

 **Added in:** `astro@4.7.0`

Registers a callback to be called when the user clicks on the app icon in the UI to toggle the app on or off.

 src/my-app.js

```
app.onToggled((options) => {  console.log(`The app is now ${options.state ? 'enabled' : 'disabled'}!`);});
```

### onToolbarPlacementUpdated()

[Section titled “onToolbarPlacementUpdated()”](#ontoolbarplacementupdated)

**Type:** `(callback: (options: {placement: 'bottom-left' | 'bottom-center' | 'bottom-right'})) => void`

 **Added in:** `astro@4.7.0`

This event is fired when the user changes the placement of the Dev Toolbar. This can, for example, be used to reposition the app’s UI when the toolbar is moved.

 src/my-app.js

```
app.onToolbarPlacementUpdated((options) => {  console.log(`The toolbar is now placed at ${options.placement}!`);});
```

### toggleState()

[Section titled “toggleState()”](#togglestate)

**Type:** `(options: {state: boolean}) => void`

 **Added in:** `astro@4.7.0`

Changes the state of the app. This can be used to enable or disable the app programmatically, for example, when the user clicks on a button in the app’s UI.

 src/my-app.js

```
app.toggleState({ state: false });
```

### toggleNotification()

[Section titled “toggleNotification()”](#togglenotification)

**Type:** `(options: {state?: boolean, level?: 'error' | 'warning' | 'info'}) => void`

 **Added in:** `astro@4.7.0`

Toggles a notification on the app icon. This can be used to inform the user that the app requires attention, or remove the current notification.

 src/my-app.js

```
app.toggleNotification({  state: true,  level: 'warning',});
```

#### state

[Section titled “state”](#state)

**Type:** `boolean`

Indicates whether or not the app has a notification for the user. When `true`, the app icon will be highlighted. Conversely, when `false`, the highlight will be removed. If this property is not specified, `true` will be assumed.

#### level

[Section titled “level”](#level)

**Type:** `'error' | 'warning' | 'info'`
 **Default:** `'error'`

Indicates the level of the notification. This will be used to determine the color and shape (dark pink circle, gold triangle, or blue square) of the highlight on the app icon. If this property is not specified, `'error'` will be assumed.

## Client-Server Communication

[Section titled “Client-Server Communication”](#client-server-communication)

Using [Vite’s methods for client-server communication](https://vite.dev/guide/api-plugin.html#client-server-communication), Dev Toolbar Apps and the server can communicate with each other. In order to facilitate sending and receiving custom messages, helper methods are provided for use both in your toolbar app (on the client) and in your integration (on the server).

### On the client

[Section titled “On the client”](#on-the-client)

In your app, use the [serverobject on theinit()hook](#server) to send and receive messages to and from the server.

 src/my-app.js

```
export default defineToolbarApp({  init(canvas, app, server) {    server.send('my-message', { message: 'Hello!' });
    server.on('server-message', (data) => {      console.log(data.message);    });  },});
```

#### send()

[Section titled “send()”](#send)

**Type:** `<T>(event: string, payload: T) => void`

 **Added in:** `astro@4.7.0`

Sends data to the server from logic defined in your toolbar app.

 src/my-app.js

```
init(canvas, app, server) {  server.send('my-app:my-message', { message: 'Hello!' });}
```

When sending messages from the client to the server, it is good practice to prefix the event name with the app ID or other namespaces to avoid conflicts with other apps or other integrations that may be listening for messages.

#### on()

[Section titled “on()”](#on)

**Type:** `<T>(event: string, callback: (data: T) => void) => void`

 **Added in:** `astro@4.7.0`

Registers a callback to be called when the server sends a message with the specified event.

 src/my-app.js

```
init(canvas, app, server) {  server.on('server-message', (data) => {    console.log(data.message);  });}
```

### On the server

[Section titled “On the server”](#on-the-server)

In an integration, such as [the integration that adds your toolbar app](#toolbar-app-integration-setup), use the [astro:server:setuphook](https://docs.astro.build/en/reference/integrations-reference/#astroserversetup) to access the `toolbar` object to send and receive messages to and from your apps.

 my-integration.js

```
export default () => ({  name: "my-integration",  hooks: {    "astro:config:setup": ({ addDevToolbarApp }) => {},    "astro:server:setup": ({ toolbar }) => {},  },});
```

#### send()

[Section titled “send()”](#send-1)

**Type:** `<T>(event: string, payload: T) => void`

 **Added in:** `astro@4.7.0`

Sends data to the client.

 my-integration.js

```
'astro:server:setup': ({ toolbar }) => {  toolbar.send('server-message', { message: 'Hello!' });},
```

#### on()

[Section titled “on()”](#on-1)

**Type:** `<T>(event: string, callback: (data: T) => void) => void`

 **Added in:** `astro@4.7.0`

Registers a callback to be called when the client sends a message with the specified event.

 my-integration.js

```
'astro:server:setup': ({ toolbar }) => {  toolbar.on('my-app:my-message', (data) => {    console.log(data.message);  });},
```

#### onAppInitialized()

[Section titled “onAppInitialized()”](#onappinitialized)

**Type:** `(appId: string, callback: () => void) => void`

 **Added in:** `astro@4.7.0`

Registers a callback to be called when the app is initialized.

 my-integration.js

```
'astro:server:setup': ({ toolbar }) => {  toolbar.onAppInitialized('my-app', () => {    console.log('The app is now initialized!');  });},
```

#### onAppToggled()

[Section titled “onAppToggled()”](#onapptoggled)

**Type:** `(appId: string, callback: (options: {state: boolean}) => void) => void`

 **Added in:** `astro@4.7.0`

Registers a callback to be called when the user clicks on the app icon in the UI to toggle the app on or off.

 my-integration.js

```
'astro:server:setup': ({ toolbar }) => {  toolbar.onAppToggled('my-app', ({ state }) => {    console.log(`The app is now ${state ? 'enabled' : 'disabled'}!`);  });},
```

## Component Library

[Section titled “Component Library”](#component-library)

The Dev Toolbar includes a set of web components that can be used to build apps with a consistent look and feel.

### astro-dev-toolbar-window

[Section titled “astro-dev-toolbar-window”](#astro-dev-toolbar-window)

Shows a window.

The slot of the component will be used as the content of the window.

```
<astro-dev-toolbar-window>  <p>My content</p></astro-dev-toolbar-window>
```

When building a window using JavaScript, slotted content must go inside the light DOM of the component.

```
const myWindow = document.createElement('astro-dev-toolbar-window');const myContent = document.createElement('p');myContent.textContent = 'My content';
// use appendChild directly on `window`, not `myWindow.shadowRoot`myWindow.appendChild(myContent);
```

### astro-dev-toolbar-button

[Section titled “astro-dev-toolbar-button”](#astro-dev-toolbar-button)

Shows a button.

The slot of the component will be used as the content of the button.

```
const myButton = document.createElement('astro-dev-toolbar-button');myButton.textContent = 'Click me!';myButton.buttonStyle = "purple";myButton.size = "medium";
myButton.addEventListener('click', () => {  console.log('Clicked!');});
```

#### size

[Section titled “size”](#size)

**Type:** `"small" | "medium" | "large"`
 **Default:** `"small"`

The size of the button.

#### button-style

[Section titled “button-style”](#button-style)

**Type:** `"ghost" | "outline" | "purple" | "gray" | "red" | "green" | "yellow" | "blue"`
 **Default:** `"purple"`

The style of the button. When using `ghost`, the button itself is invisible and only the content of the button will be shown.

In JavaScript, set this property using the `buttonStyle` property to avoid conflict with the native `style` property.

#### button-border-radius

[Section titled “button-border-radius”](#button-border-radius)

**Type:** `"normal" | "rounded"`
 **Default:** `"normal"`

 **Added in:** `astro@4.8.0`

The border radius of the button. When using `rounded`, the button will have rounded corners and uniform padding on all sides.

In JavaScript, set this property using the `buttonBorderRadius` property.

### astro-dev-toolbar-badge

[Section titled “astro-dev-toolbar-badge”](#astro-dev-toolbar-badge)

Shows a badge.

The slot of the component will be used as the content of the badge.

```
<astro-dev-toolbar-badge>My badge</astro-dev-toolbar-badge>
```

#### size

[Section titled “size”](#size-1)

**Type:** `"small" | "large"`
 **Default:** `"small"`

The size of the badge.

#### badge-style

[Section titled “badge-style”](#badge-style)

**Type:** `"purple" | "gray" | "red" | "green" | "yellow" | "blue"`
 **Default:** `"purple"`

The style (color) of the badge.

In JavaScript, set this property using the `badgeStyle` property to avoid conflict with the native `style` property.

### astro-dev-toolbar-card

[Section titled “astro-dev-toolbar-card”](#astro-dev-toolbar-card)

Shows a card. Specify an optional `link` attribute to make the card act like an `<a>` element.

When making a card using JavaScript, a `clickAction` property can be specified to make the card act like a `<button>` element.

The slot of the component will be used as the content of the card.

```
<astro-dev-toolbar-card icon="astro:logo" link="https://github.com/withastro/astro/issues/new/choose">Report an issue</astro-dev-toolbar-card>
```

#### card-style

[Section titled “card-style”](#card-style)

**Type:** `"purple" | "gray" | "red" | "green" | "yellow" | "blue"`
 **Default:** `"purple"`

The style of the card. The color is only applied to the border of the card on hover.

In JavaScript, set this property using the `cardStyle`.

### astro-dev-toolbar-toggle

[Section titled “astro-dev-toolbar-toggle”](#astro-dev-toolbar-toggle)

Shows a toggle element, acting as a checkbox. This element internally is a simple wrapper around a native `<input type="checkbox">` element. The checkbox element can be accessed using the `input` property.

```
const toggle = document.createElement('astro-dev-toolbar-toggle');
toggle.input.addEventListener('change', (evt) => {  console.log(`The toggle is now ${evt.currentTarget.checked ? 'enabled' : 'disabled'}!`);});
```

#### toggle-style

[Section titled “toggle-style”](#toggle-style)

**Type:** `"purple" | "gray" | "red" | "green" | "yellow" | "blue"`
 **Default:** `"gray"`

The style of the toggle.

In JavaScript, set this property using the `toggleStyle` property.

### astro-dev-toolbar-radio-checkbox

[Section titled “astro-dev-toolbar-radio-checkbox”](#astro-dev-toolbar-radio-checkbox)

**Added in:** `astro@4.8.0`

Shows a radio checkbox. Similar to the `astro-dev-toolbar-toggle` component, this element is a simple wrapper around a native `<input type="radio">` element. The radio element can be accessed using the `input` property.

```
const radio = document.createElement('astro-dev-toolbar-radio-checkbox');
radio.input.addEventListener('change', (evt) => {  console.log(`The radio is now ${evt.currentTarget.checked ? 'enabled' : 'disabled'}!`);});
```

#### radio-style

[Section titled “radio-style”](#radio-style)

**Type:** `"purple" | "gray" | "red" | "green" | "yellow" | "blue"`
 **Default:** `"purple"`

The style of the radio.

In JavaScript, set this property using the `radioStyle` property.

### astro-dev-toolbar-highlight

[Section titled “astro-dev-toolbar-highlight”](#astro-dev-toolbar-highlight)

Can be used to highlight an element on the page. In most cases, you’ll want to position and resize this element using the `top`, `left`, `width` and `height` CSS properties to match the element you want to highlight.

```
<astro-dev-toolbar-highlight style="top: 0; left: 0; width: 100%; height: 100%;"></astro-dev-toolbar-highlight>
```

```
const elementToHighlight = document.querySelector('h1');const rect = elementToHighlight.getBoundingClientRect();
const highlight = document.createElement('astro-dev-toolbar-highlight');
highlight.style.top = `${Math.max(rect.top + window.scrollY - 10, 0)}px`;highlight.style.left = `${Math.max(rect.left + window.scrollX - 10, 0)}px`;highlight.style.width = `${rect.width + 15}px`;highlight.style.height = `${rect.height + 15}px`;highlight.icon = 'astro:logo';
```

#### highlight-style

[Section titled “highlight-style”](#highlight-style)

**Type:** `"purple" | "gray" | "red" | "green" | "yellow" | "blue"`
 **Default:** `"purple"`

The style of the highlight.

#### icon

[Section titled “icon”](#icon-1)

An [icon](#icons) to show in the top right corner of the highlight.

### astro-dev-toolbar-tooltip

[Section titled “astro-dev-toolbar-tooltip”](#astro-dev-toolbar-tooltip)

Shows a tooltip with different sections. This component is set to `display: none;` by default and can be made visible using a `data-show="true"` attribute.

Sections are defined using the `sections` property. This property is an array of objects with the following shape:

```
{  title?: string; // Title of the section  inlineTitle?: string; // Title of the section, shown inline next to the title  icon?: Icon; // Icon of the section  content?: string; // Content of the section  clickAction?: () => void | Promise<void>; // Action to perform when clicking on the section  clickDescription?: string; // Description of the action to perform when clicking on the section}
```

```
const tooltip = document.createElement('astro-dev-toolbar-tooltip');
tooltip.sections = [{  title: 'My section',  icon: 'astro:logo',  content: 'My content',  clickAction: () => {    console.log('Clicked!')  },  clickDescription: 'Click me!'}]
```

This component is often combined with the `astro-dev-toolbar-highlight` component to show a tooltip when hovering a highlighted element:

```
const highlight = document.createElement('astro-dev-toolbar-highlight');
// Position the highlight...
const tooltip = document.createElement('astro-dev-toolbar-tooltip');
// Add sections to the tooltip...
highlight.addEventListener('mouseover', () => {  tooltip.dataset.show = 'true';});
highlight.addEventListener('mouseout', () => {  tooltip.dataset.show = 'false';});
```

### astro-dev-toolbar-icon

[Section titled “astro-dev-toolbar-icon”](#astro-dev-toolbar-icon)

Shows an icon. An icon from [the icon list](#icons) can be specified using the `icon` attribute, or the SVG markup of an icon can be passed as a slot.

```
<astro-dev-toolbar-icon icon="astro:logo" />
```

```
<astro-dev-toolbar-icon>  <svg>...</svg></astro-dev-toolbar-icon>
```

### astro-dev-toolbar-select

[Section titled “astro-dev-toolbar-select”](#astro-dev-toolbar-select)

**Added in:** `astro@4.6.0`

Shows a select element. Similar to the `astro-dev-toolbar-toggle` component, this element is a simple wrapper around a native `<select>` element. Use the `element` property to have access to the select element.

```
const mySelect = document.createElement("astro-dev-toolbar-select");const options = [  { label: "First option", value: "first" },  { label: "Second option", value: "second", isDefault: true },];const myOptions = options.map((option) => {  const optionEl = document.createElement("option");  optionEl.textContent = option.label;  optionEl.setAttribute("value", option.value);  optionEl.selected = option.isDefault || false;  return optionEl;});
mySelect.selectStyle = "green";mySelect.append(...myOptions);
mySelect.element.addEventListener("change", (evt) => {  if (evt.currentTarget instanceof HTMLSelectElement) {    console.log(`The select value is now ${evt.currentTarget.value}!`);  }});
```

#### select-style

[Section titled “select-style”](#select-style)

**Type:** `"purple" | "gray" | "red" | "green" | "yellow" | "blue"`
 **Default:** `"gray"`

The style of the select.

In JavaScript, set this property using the `selectStyle` property.

#### Icons

[Section titled “Icons”](#icons)

Currently, the following icons are available and can be used in any component that accepts an icon:

- `astro:logo`
- `warning`
- `arrow-down`
- `bug`
- `check-circle`
- `gear`
- `lightbulb`
- `file-search`
- `star`
- `checkmark`
- `dots-three`
- `copy`
- `compress`
- `grid`
- `puzzle`
- `approveUser`
- `checkCircle`
- `resizeImage`
- `searchFile`
- `image`
- `robot`
- `sitemap`
- `gauge`
- `person-arms-spread`
- `arrow-left`
- `houston-detective`

All of the above icons have `fill="currentColor"` set by default and will inherit their color from the parent element.

 Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Template directives reference

# Template directives reference

**Template directives** are a special kind of HTML attribute available inside of any Astro component template (`.astro` files), and some can also be used in `.mdx` files.

Template directives are used to control an element or component’s behavior in some way. A template directive could enable some compiler feature that makes your life easier (like using `class:list` instead of `class`). Or, a directive could tell the Astro compiler to do something special with that component (like hydrating with `client:load`).

This page describes all of the template directives available to you in Astro, and how they work.

## Rules

[Section titled “Rules”](#rules)

For a template directive to be valid, it must:

- Include a colon `:` in its name, using the form `X:Y` (ex: `client:load`).
- Be visible to the compiler (ex: `<X {...attr}>` would not work if `attr` contained a directive).

Some template directives, but not all, can take a custom value:

- `<X client:load />` (takes no value)
- `<X class:list={['some-css-class']} />` (takes an array)

A template directive is never included directly in the final HTML output of a component.

## Common Directives

[Section titled “Common Directives”](#common-directives)

### class:list

[Section titled “class:list”](#classlist)

`class:list={...}` takes an array of class values and converts them into a class string. This is powered by @lukeed’s popular [clsx](https://github.com/lukeed/clsx) helper library.

`class:list` takes an array of several different possible value kinds:

- `string`: Added to the element `class`
- `Object`: All truthy keys are added to the element `class`
- `Array`: flattened
- `false`, `null`, or `undefined`: skipped

```
<span class:list={[ 'hello goodbye', { world: true }, [ 'friend' ] ]} /><span class="hello goodbye world friend"></span>
```

### set:html

[Section titled “set:html”](#sethtml)

`set:html={string}` injects an HTML string into an element, similar to setting `el.innerHTML`.

**The value is not automatically escaped by Astro!** Be sure that you trust the value, or that you have escaped it manually before passing it to the template. Forgetting to do this will open you up to [Cross Site Scripting (XSS) attacks.](https://owasp.org/www-community/attacks/xss/)

```
---const rawHTMLString = "Hello <strong>World</strong>"---<h1>{rawHTMLString}</h1>  <h1 set:html={rawHTMLString} />  
```

You can also use `set:html` on a `<Fragment>` to avoid adding an unnecessary wrapper element. This can be especially useful when fetching HTML from a CMS.

```
---const cmsContent = await fetchHTMLFromMyCMS();---<Fragment set:html={cmsContent}>
```

`set:html={Promise<string>}` injects an HTML string into an element that is wrapped in a Promise.

This can be used to inject HTML stored externally, such as in a database.

```
---import api from '../db/api.js';---<article set:html={api.getArticle(Astro.props.id)}></article>
```

`set:html={Promise<Response>}` injects a [Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) into an element.

This is most helpful when using `fetch()`. For example, fetching old posts from a previous static-site generator.

```
<article set:html={fetch('http://example/old-posts/making-soup.html')}></article>
```

`set:html` can be used on any tag and does not have to include HTML. For example, use with [JSON.stringify()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) on a `<script>` tag to add a [JSON-LD](https://json-ld.org/) schema to your page.

```
<script type="application/ld+json" set:html={JSON.stringify({  "@context": "https://schema.org/",  "@type": "Person",  name: "Houston",  hasOccupation: {    "@type": "Occupation",    name: "Astronaut"  }})}/>
```

### set:text

[Section titled “set:text”](#settext)

`set:text={string}` injects a text string into an element, similar to setting `el.innerText`. Unlike `set:html`, the `string` value that is passed is automatically escaped by Astro.

This is equivalent to just passing a variable into a template expression directly (ex: `<div>{someText}</div>`) and therefore this directive is not commonly used.

## Client Directives

[Section titled “Client Directives”](#client-directives)

These directives control how [UI Framework components](https://docs.astro.build/en/guides/framework-components/) are hydrated on the page.

By default, a UI Framework component is not hydrated in the client. If no `client:*` directive is provided, its HTML is rendered onto the page without JavaScript.

A client directive can only be used on a UI framework component that is directly imported into a `.astro` component.  Hydration directives are not supported when using [dynamic tags](https://docs.astro.build/en/reference/astro-syntax/#dynamic-tags) and [custom components passed via thecomponentsprop](https://docs.astro.build/en/guides/integrations-guide/mdx/#passing-components-to-mdx-content).

### client:load

[Section titled “client:load”](#clientload)

- **Priority:** High
- **Useful for:** Immediately-visible UI elements that need to be interactive as soon as possible.

Load and hydrate the component JavaScript immediately on page load.

```
<BuyButton client:load />
```

### client:idle

[Section titled “client:idle”](#clientidle)

- **Priority:** Medium
- **Useful for:** Lower-priority UI elements that don’t need to be immediately interactive.

Load and hydrate the component JavaScript once the page is done with its initial load and the `requestIdleCallback` event has fired. If you are in a browser that doesn’t support [requestIdleCallback](https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback), then the document [load](https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event) event is used.

```
<ShowHideButton client:idle />
```

#### timeout

[Section titled “timeout”](#timeout)

**Added in:** `astro@4.15.0`

The maximum time to wait, in milliseconds, before hydrating the component, even if the page is not yet done with its initial load.

This allows you to pass a value for [thetimeoutoption from therequestIdleCallback()specification](https://www.w3.org/TR/requestidlecallback/#the-requestidlecallback-method). This means you can delay hydration for lower-priority UI elements with more control to ensure your element is interactive within a specified time frame.

```
<ShowHideButton client:idle={{timeout: 500}} />
```

### client:visible

[Section titled “client:visible”](#clientvisible)

- **Priority:** Low
- **Useful for:** Low-priority UI elements that are either far down the page (“below the fold”) or so resource-intensive to load that you would prefer not to load them at all if the user never saw the element.

Load and hydrate the component JavaScript once the component has entered the user’s viewport. This uses an `IntersectionObserver` internally to keep track of visibility.

```
<HeavyImageCarousel client:visible />
```

#### client:visible={{rootMargin}}

[Section titled “client:visible={{rootMargin}}”](#clientvisiblerootmargin)

**Added in:** `astro@4.1.0`

Optionally, a value for `rootMargin` can be passed to the underlying `IntersectionObserver`. When `rootMargin` is specified, the component JavaScript will hydrate when a specified margin (in pixels) around the component enters the viewport, rather than the component itself.

```
<HeavyImageCarousel client:visible={{rootMargin: "200px"}} />
```

Specifying a `rootMargin` value can reduce layout shifts (CLS), allow more time for a component to hydrate on slower internet connections, and make components interactive sooner, enhancing the stability and responsiveness of the page.

### client:media

[Section titled “client:media”](#clientmedia)

- **Priority:** Low
- **Useful for:** Sidebar toggles, or other elements that might only be visible on certain screen sizes.

`client:media={string}` loads and hydrates the component JavaScript once a certain CSS media query is met.

```
<SidebarToggle client:media="(max-width: 50em)" />
```

### client:only

[Section titled “client:only”](#clientonly)

`client:only={string}` **skips** HTML server rendering, and renders only on the client. It acts similarly to `client:load` in that it loads, renders, and hydrates the component immediately on page load.

**You must pass the component’s correct framework as a value!** Because Astro doesn’t run the component during your build / on the server, Astro doesn’t know what framework your component uses unless you tell it explicitly.

```
<SomeReactComponent client:only="react" /><SomePreactComponent client:only="preact" /><SomeSvelteComponent client:only="svelte" /><SomeVueComponent client:only="vue" /><SomeSolidComponent client:only="solid-js" />
```

#### Display loading content

[Section titled “Display loading content”](#display-loading-content)

For components that render only on the client, it is also possible to display fallback content while they are loading. Use `slot="fallback"` on any child element to create content that will be displayed only until your client component is available:

```
<ClientComponent client:only="vue">  <div slot="fallback">Loading</div></ClientComponent>
```

### Custom Client Directives

[Section titled “Custom Client Directives”](#custom-client-directives)

Since Astro 2.6.0, integrations can also add custom `client:*` directives to change how and when components should be hydrated.

Visit the [addClientDirectiveAPI](https://docs.astro.build/en/reference/integrations-reference/#addclientdirective-option) page to learn more about creating a custom client directive.

## Server Directives

[Section titled “Server Directives”](#server-directives)

These directives control how server island components are rendered.

### server:defer

[Section titled “server:defer”](#serverdefer)

The `server:defer` directive transforms the component into a server island, causing it to be rendered on demand, outside the scope of the rest of the page rendering.

   See more about using [server island components](https://docs.astro.build/en/guides/server-islands/).

```
<Avatar server:defer />
```

## Script & Style Directives

[Section titled “Script & Style Directives”](#script--style-directives)

These directives can only be used on HTML `<script>` and `<style>` tags, to control how your client-side JavaScript and CSS are handled on the page.

### is:global

[Section titled “is:global”](#isglobal)

By default, Astro automatically scopes `<style>` CSS rules to the component. You can opt-out of this behavior with the `is:global` directive.

`is:global` makes the contents of a `<style>` tag apply globally on the page when the component is included. This disables Astro’s CSS scoping system. This is equivalent to wrapping all of the selectors within a `<style>` tag with `:global()`.

You can combine `<style>` and `<style is:global>` together in the same component, to create some global style rules while still scoping most of your component CSS.

   See the [Styling & CSS](https://docs.astro.build/en/guides/styling/#global-styles) page for more details about how global styles work.

```
<style is:global>  body a { color: red; }</style>
```

### is:inline

[Section titled “is:inline”](#isinline)

By default, Astro will process, optimize, and bundle any `<script>` and `<style>` tags that it sees on the page. You can opt-out of this behavior with the `is:inline` directive.

`is:inline` tells Astro to leave the `<script>` or `<style>` tag as-is in the final output HTML. The contents will not be processed, optimized, or bundled. This limits some Astro features, like importing an npm package or using a compile-to-CSS language like Sass.

The `is:inline` directive means that `<style>` and `<script>` tags:

- Will not be bundled into an external file. This means that [attributes likedefer](https://javascript.info/script-async-defer) which control the loading of an external file will have no effect.
- Will not be deduplicated—the element will appear as many times as it is rendered.
- Will not have its `import`/`@import`/`url()` references resolved relative to the `.astro` file.
- Will be rendered in the final output HTML exactly where it is authored.
- Styles will be global and not scoped to the component.

```
<style is:inline>  /* inline: relative & npm package imports are not supported. */  @import '/assets/some-public-styles.css';  span { color: green; }</style>
<script is:inline>  /* inline: relative & npm package imports are not supported. */  console.log('I am inlined right here in the final output HTML.');</script>
```

   See how [client-side scripts](https://docs.astro.build/en/guides/client-side-scripts/) work in Astro components.

### define:vars

[Section titled “define:vars”](#definevars)

`define:vars={...}` can pass server-side variables from your component frontmatter into the client `<script>` or `<style>` tags. Any JSON-serializable frontmatter variable is supported, including `props` passed to your component through `Astro.props`. Values are serialized with [JSON.stringify()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify).

```
---const foregroundColor = "rgb(221 243 228)";const backgroundColor = "rgb(24 121 78)";const message = "Astro is awesome!";---<style define:vars={{ textColor: foregroundColor, backgroundColor }}>  h1 {    background-color: var(--backgroundColor);    color: var(--textColor);  }</style>
<script define:vars={{ message }}>  alert(message);</script>
```

## Advanced Directives

[Section titled “Advanced Directives”](#advanced-directives)

### is:raw

[Section titled “is:raw”](#israw)

`is:raw` instructs the Astro compiler to treat any children of that element as text. This means that all special Astro templating syntax will be ignored inside of this component.

For example, if you had a custom Katex component that converted some text to HTML, you could have users do this:

```
---import Katex from '../components/Katex.astro';---<Katex is:raw>Some conflicting {syntax} here</Katex>
```

 Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Error reference

# Error reference

The following reference is a complete list of the errors you may encounter while using Astro. For additional assistance, including common pitfalls, please also see our [Troubleshooting Guide](https://docs.astro.build/en/guides/troubleshooting/).

## Astro Errors

[Section titled “Astro Errors”](#astro-errors)

- [UnknownCompilerError](https://docs.astro.build/en/reference/errors/unknown-compiler-error/)
  Unknown compiler error.
- [ClientAddressNotAvailable](https://docs.astro.build/en/reference/errors/client-address-not-available/)
  `Astro.clientAddress` is not available in current adapter.
- [PrerenderClientAddressNotAvailable](https://docs.astro.build/en/reference/errors/prerender-client-address-not-available/)
  `Astro.clientAddress` cannot be used inside prerendered routes.
- [StaticClientAddressNotAvailable](https://docs.astro.build/en/reference/errors/static-client-address-not-available/)
  `Astro.clientAddress` is not available in prerendered pages.
- [NoMatchingStaticPathFound](https://docs.astro.build/en/reference/errors/no-matching-static-path-found/)
  No static path found for requested path.
- [OnlyResponseCanBeReturned](https://docs.astro.build/en/reference/errors/only-response-can-be-returned/)
  Invalid type returned by Astro page.
- [MissingMediaQueryDirective](https://docs.astro.build/en/reference/errors/missing-media-query-directive/)
  Missing value for `client:media` directive.
- [NoMatchingRenderer](https://docs.astro.build/en/reference/errors/no-matching-renderer/)
  No matching renderer found.
- [NoClientEntrypoint](https://docs.astro.build/en/reference/errors/no-client-entrypoint/)
  No client entrypoint specified in renderer.
- [NoClientOnlyHint](https://docs.astro.build/en/reference/errors/no-client-only-hint/)
  Missing hint on `client:only` directive.
- [InvalidGetStaticPathParam](https://docs.astro.build/en/reference/errors/invalid-get-static-path-param/)
  Invalid value returned by a `getStaticPaths` path.
- [InvalidGetStaticPathsEntry](https://docs.astro.build/en/reference/errors/invalid-get-static-paths-entry/)
  Invalid entry inside getStaticPath’s return value
- [InvalidGetStaticPathsReturn](https://docs.astro.build/en/reference/errors/invalid-get-static-paths-return/)
  Invalid value returned by getStaticPaths.
- [GetStaticPathsExpectedParams](https://docs.astro.build/en/reference/errors/get-static-paths-expected-params/)
  Missing params property on `getStaticPaths` route.
- [GetStaticPathsInvalidRouteParam](https://docs.astro.build/en/reference/errors/get-static-paths-invalid-route-param/)
  Invalid value for `getStaticPaths` route parameter.
- [GetStaticPathsRequired](https://docs.astro.build/en/reference/errors/get-static-paths-required/)
  `getStaticPaths()` function required for dynamic routes.
- [ReservedSlotName](https://docs.astro.build/en/reference/errors/reserved-slot-name/)
  Invalid slot name.
- [NoAdapterInstalled](https://docs.astro.build/en/reference/errors/no-adapter-installed/)
  Cannot use Server-side Rendering without an adapter.
- [AdapterSupportOutputMismatch](https://docs.astro.build/en/reference/errors/adapter-support-output-mismatch/)
  Adapter does not support server output.
- [NoAdapterInstalledServerIslands](https://docs.astro.build/en/reference/errors/no-adapter-installed-server-islands/)
  Cannot use Server Islands without an adapter.
- [NoMatchingImport](https://docs.astro.build/en/reference/errors/no-matching-import/)
  No import found for component.
- [InvalidPrerenderExport](https://docs.astro.build/en/reference/errors/invalid-prerender-export/)
  Invalid prerender export.
- [InvalidComponentArgs](https://docs.astro.build/en/reference/errors/invalid-component-args/)
  Invalid component arguments.
- [PageNumberParamNotFound](https://docs.astro.build/en/reference/errors/page-number-param-not-found/)
  Page number param not found.
- [ImageMissingAlt](https://docs.astro.build/en/reference/errors/image-missing-alt/)
  Image missing required “alt” property.
- [InvalidImageService](https://docs.astro.build/en/reference/errors/invalid-image-service/)
  Error while loading image service.
- [MissingImageDimension](https://docs.astro.build/en/reference/errors/missing-image-dimension/)
  Missing image dimensions
- [FailedToFetchRemoteImageDimensions](https://docs.astro.build/en/reference/errors/failed-to-fetch-remote-image-dimensions/)
  Failed to retrieve remote image dimensions
- [UnsupportedImageFormat](https://docs.astro.build/en/reference/errors/unsupported-image-format/)
  Unsupported image format
- [UnsupportedImageConversion](https://docs.astro.build/en/reference/errors/unsupported-image-conversion/)
  Unsupported image conversion
- [PrerenderDynamicEndpointPathCollide](https://docs.astro.build/en/reference/errors/prerender-dynamic-endpoint-path-collide/)
  Prerendered dynamic endpoint has path collision.
- [PrerenderRouteConflict](https://docs.astro.build/en/reference/errors/prerender-route-conflict/)
  Prerendered route generates the same path as another route.
- [ExpectedImage](https://docs.astro.build/en/reference/errors/expected-image/)
  Expected src to be an image.
- [ExpectedImageOptions](https://docs.astro.build/en/reference/errors/expected-image-options/)
  Expected image options.
- [ExpectedNotESMImage](https://docs.astro.build/en/reference/errors/expected-not-esmimage/)
  Expected image options, not an ESM-imported image.
- [IncompatibleDescriptorOptions](https://docs.astro.build/en/reference/errors/incompatible-descriptor-options/)
  Cannot set both `densities` and `widths`
- [ImageNotFound](https://docs.astro.build/en/reference/errors/image-not-found/)
  Image not found.
- [NoImageMetadata](https://docs.astro.build/en/reference/errors/no-image-metadata/)
  Could not process image metadata.
- [CouldNotTransformImage](https://docs.astro.build/en/reference/errors/could-not-transform-image/)
  Could not transform image.
- [ResponseSentError](https://docs.astro.build/en/reference/errors/response-sent-error/)
  Unable to set response.
- [MiddlewareNoDataOrNextCalled](https://docs.astro.build/en/reference/errors/middleware-no-data-or-next-called/)
  The middleware didn’t return a `Response`.
- [MiddlewareNotAResponse](https://docs.astro.build/en/reference/errors/middleware-not-aresponse/)
  The middleware returned something that is not a `Response` object.
- [EndpointDidNotReturnAResponse](https://docs.astro.build/en/reference/errors/endpoint-did-not-return-aresponse/)
  The endpoint did not return a `Response`.
- [LocalsNotAnObject](https://docs.astro.build/en/reference/errors/locals-not-an-object/)
  Value assigned to `locals` is not accepted.
- [LocalsReassigned](https://docs.astro.build/en/reference/errors/locals-reassigned/)
  `locals` must not be reassigned.
- [AstroResponseHeadersReassigned](https://docs.astro.build/en/reference/errors/astro-response-headers-reassigned/)
  `Astro.response.headers` must not be reassigned.
- [MiddlewareCantBeLoaded](https://docs.astro.build/en/reference/errors/middleware-cant-be-loaded/)
  Can’t load the middleware.
- [LocalImageUsedWrongly](https://docs.astro.build/en/reference/errors/local-image-used-wrongly/)
  Local images must be imported.
- [AstroGlobUsedOutside](https://docs.astro.build/en/reference/errors/astro-glob-used-outside/)
  Astro.glob() used outside of an Astro file.
- [AstroGlobNoMatch](https://docs.astro.build/en/reference/errors/astro-glob-no-match/)
  Astro.glob() did not match any files.
- [RedirectWithNoLocation](https://docs.astro.build/en/reference/errors/redirect-with-no-location/)
  A redirect must be given a location with the `Location` header.
- [UnsupportedExternalRedirect](https://docs.astro.build/en/reference/errors/unsupported-external-redirect/)
  Unsupported or malformed URL.
- [InvalidDynamicRoute](https://docs.astro.build/en/reference/errors/invalid-dynamic-route/)
  Invalid dynamic route.
- [MissingSharp](https://docs.astro.build/en/reference/errors/missing-sharp/)
  Could not find Sharp.
- [UnknownViteError](https://docs.astro.build/en/reference/errors/unknown-vite-error/)
  Unknown Vite Error.
- [FailedToLoadModuleSSR](https://docs.astro.build/en/reference/errors/failed-to-load-module-ssr/)
  Could not import file.
- [InvalidGlob](https://docs.astro.build/en/reference/errors/invalid-glob/)
  Invalid glob pattern.
- [FailedToFindPageMapSSR](https://docs.astro.build/en/reference/errors/failed-to-find-page-map-ssr/)
  Astro couldn’t find the correct page to render
- [MissingLocale](https://docs.astro.build/en/reference/errors/missing-locale/)
  The provided locale does not exist.
- [MissingIndexForInternationalization](https://docs.astro.build/en/reference/errors/missing-index-for-internationalization/)
  Index page not found.
- [IncorrectStrategyForI18n](https://docs.astro.build/en/reference/errors/incorrect-strategy-for-i18n/)
  You can’t use the current function with the current strategy
- [NoPrerenderedRoutesWithDomains](https://docs.astro.build/en/reference/errors/no-prerendered-routes-with-domains/)
  Prerendered routes aren’t supported when internationalization domains are enabled.
- [MissingMiddlewareForInternationalization](https://docs.astro.build/en/reference/errors/missing-middleware-for-internationalization/)
  Enabled manual internationalization routing without having a middleware.
- [CantRenderPage](https://docs.astro.build/en/reference/errors/cant-render-page/)
  Astro can’t render the route.
- [UnhandledRejection](https://docs.astro.build/en/reference/errors/unhandled-rejection/)
  Unhandled rejection
- [i18nNotEnabled](https://docs.astro.build/en/reference/errors/i18n-not-enabled/)
  i18n Not Enabled
- [i18nNoLocaleFoundInPath](https://docs.astro.build/en/reference/errors/i18n-no-locale-found-in-path/)
  The path doesn’t contain any locale
- [RouteNotFound](https://docs.astro.build/en/reference/errors/route-not-found/)
  Route not found.
- [EnvInvalidVariables](https://docs.astro.build/en/reference/errors/env-invalid-variables/)
  Invalid Environment Variables
- [ServerOnlyModule](https://docs.astro.build/en/reference/errors/server-only-module/)
  Module is only available server-side
- [RewriteWithBodyUsed](https://docs.astro.build/en/reference/errors/rewrite-with-body-used/)
  Cannot use Astro.rewrite after the request body has been read
- [ForbiddenRewrite](https://docs.astro.build/en/reference/errors/forbidden-rewrite/)
  Forbidden rewrite to a static route.
- [UnknownFilesystemError](https://docs.astro.build/en/reference/errors/unknown-filesystem-error/)
  An unknown error occurred while reading or writing files to disk.
- [CannotExtractFontType](https://docs.astro.build/en/reference/errors/cannot-extract-font-type/)
  Cannot extract the font type from the given URL.
- [CannotDetermineWeightAndStyleFromFontFile](https://docs.astro.build/en/reference/errors/cannot-determine-weight-and-style-from-font-file/)
  Cannot determine weight and style from font file.
- [CannotFetchFontFile](https://docs.astro.build/en/reference/errors/cannot-fetch-font-file/)
  Cannot fetch the given font file.
- [CannotLoadFontProvider](https://docs.astro.build/en/reference/errors/cannot-load-font-provider/)
  Cannot load font provider
- [ExperimentalFontsNotEnabled](https://docs.astro.build/en/reference/errors/experimental-fonts-not-enabled/)
  Experimental fonts are not enabled
- [FontFamilyNotFound](https://docs.astro.build/en/reference/errors/font-family-not-found/)
  Font family not found
- [CspNotEnabled](https://docs.astro.build/en/reference/errors/csp-not-enabled/)
  CSP feature isn’t enabled

## CSS Errors

[Section titled “CSS Errors”](#css-errors)

- [UnknownCSSError](https://docs.astro.build/en/reference/errors/unknown-csserror/)
  Unknown CSS Error.
- [CSSSyntaxError](https://docs.astro.build/en/reference/errors/csssyntax-error/)
  CSS Syntax Error.

## Markdown Errors

[Section titled “Markdown Errors”](#markdown-errors)

- [UnknownMarkdownError](https://docs.astro.build/en/reference/errors/unknown-markdown-error/)
  Unknown Markdown Error.
- [MarkdownFrontmatterParseError](https://docs.astro.build/en/reference/errors/markdown-frontmatter-parse-error/)
  Failed to parse Markdown frontmatter.
- [InvalidFrontmatterInjectionError](https://docs.astro.build/en/reference/errors/invalid-frontmatter-injection-error/)
  Invalid frontmatter injection.
- [MdxIntegrationMissingError](https://docs.astro.build/en/reference/errors/mdx-integration-missing-error/)
  MDX integration missing.
- [UnknownConfigError](https://docs.astro.build/en/reference/errors/unknown-config-error/)
  Unknown configuration error.
- [ConfigNotFound](https://docs.astro.build/en/reference/errors/config-not-found/)
  Specified configuration file not found.
- [ConfigLegacyKey](https://docs.astro.build/en/reference/errors/config-legacy-key/)
  Legacy configuration detected.

## CLI Errors

[Section titled “CLI Errors”](#cli-errors)

- [UnknownCLIError](https://docs.astro.build/en/reference/errors/unknown-clierror/)
  Unknown CLI Error.
- [GenerateContentTypesError](https://docs.astro.build/en/reference/errors/generate-content-types-error/)
  Failed to generate content types.

## Content Collection Errors

[Section titled “Content Collection Errors”](#content-collection-errors)

- [UnknownContentCollectionError](https://docs.astro.build/en/reference/errors/unknown-content-collection-error/)
  Unknown Content Collection Error.
- [RenderUndefinedEntryError](https://docs.astro.build/en/reference/errors/render-undefined-entry-error/)
  Attempted to render an undefined content collection entry.
- [GetEntryDeprecationError](https://docs.astro.build/en/reference/errors/get-entry-deprecation-error/)
  Invalid use of `getDataEntryById` or `getEntryBySlug` function.
- [InvalidContentEntryFrontmatterError](https://docs.astro.build/en/reference/errors/invalid-content-entry-frontmatter-error/)
  Content entry frontmatter does not match schema.
- [InvalidContentEntryDataError](https://docs.astro.build/en/reference/errors/invalid-content-entry-data-error/)
  Content entry data does not match schema.
- [ContentLoaderReturnsInvalidId](https://docs.astro.build/en/reference/errors/content-loader-returns-invalid-id/)
  Content loader returned an entry with an invalid `id`.
- [ContentEntryDataError](https://docs.astro.build/en/reference/errors/content-entry-data-error/)
  Content entry data does not match schema.
- [LiveContentConfigError](https://docs.astro.build/en/reference/errors/live-content-config-error/)
  Error in live content config.
- [ContentLoaderInvalidDataError](https://docs.astro.build/en/reference/errors/content-loader-invalid-data-error/)
  Content entry is missing an ID
- [InvalidContentEntrySlugError](https://docs.astro.build/en/reference/errors/invalid-content-entry-slug-error/)
  Invalid content entry slug.
- [ContentSchemaContainsSlugError](https://docs.astro.build/en/reference/errors/content-schema-contains-slug-error/)
  Content Schema should not contain `slug`.
- [MixedContentDataCollectionError](https://docs.astro.build/en/reference/errors/mixed-content-data-collection-error/)
  Content and data cannot be in same collection.
- [ContentCollectionTypeMismatchError](https://docs.astro.build/en/reference/errors/content-collection-type-mismatch-error/)
  Collection contains entries of a different type.
- [DataCollectionEntryParseError](https://docs.astro.build/en/reference/errors/data-collection-entry-parse-error/)
  Data collection entry failed to parse.
- [DuplicateContentEntrySlugError](https://docs.astro.build/en/reference/errors/duplicate-content-entry-slug-error/)
  Duplicate content entry slug.
- [UnsupportedConfigTransformError](https://docs.astro.build/en/reference/errors/unsupported-config-transform-error/)
  Unsupported transform in content config.
- [FileParserNotFound](https://docs.astro.build/en/reference/errors/file-parser-not-found/)
  File parser not found
- [FileGlobNotSupported](https://docs.astro.build/en/reference/errors/file-glob-not-supported/)
  Glob patterns are not supported in the file loader

## Action Errors

[Section titled “Action Errors”](#action-errors)

- [ActionsWithoutServerOutputError](https://docs.astro.build/en/reference/errors/actions-without-server-output-error/)
  Actions must be used with server output.
- [ActionsReturnedInvalidDataError](https://docs.astro.build/en/reference/errors/actions-returned-invalid-data-error/)
  Action handler returned invalid data.
- [ActionNotFoundError](https://docs.astro.build/en/reference/errors/action-not-found-error/)
  Action not found.
- [ActionCalledFromServerError](https://docs.astro.build/en/reference/errors/action-called-from-server-error/)
  Action unexpected called from the server.
- [ActionsCantBeLoaded](https://docs.astro.build/en/reference/errors/actions-cant-be-loaded/)
  Can’t load the Astro actions.

## Session Errors

[Section titled “Session Errors”](#session-errors)

- [SessionStorageInitError](https://docs.astro.build/en/reference/errors/session-storage-init-error/)
  Session storage could not be initialized.
- [SessionStorageSaveError](https://docs.astro.build/en/reference/errors/session-storage-save-error/)
  Session data could not be saved.
- [SessionWithoutSupportedAdapterOutputError](https://docs.astro.build/en/reference/errors/session-without-supported-adapter-output-error/)
  Sessions cannot be used with an adapter that doesn’t support server output.
- [SessionConfigMissingError](https://docs.astro.build/en/reference/errors/session-config-missing-error/)
  Session storage was enabled but not configured.
- [SessionConfigWithoutFlagError](https://docs.astro.build/en/reference/errors/session-config-without-flag-error/)
  Session flag not set
- [CannotOptimizeSvg](https://docs.astro.build/en/reference/errors/cannot-optimize-svg/)
  Cannot optimize SVG

 Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Action unexpected called from the server.

# Action unexpected called from the server.

> **ActionCalledFromServerError**: Action called from a server page or endpoint without using `Astro.callAction()`. This wrapper must be used to call actions from server code.

## What went wrong?

[Section titled “What went wrong?”](#what-went-wrong)

Action called from a server page or endpoint without using `Astro.callAction()`.

**See Also:**

- [Astro.callAction()reference](https://docs.astro.build/en/reference/api-reference/#callaction)

 Error Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Action not found.

# Action not found.

> **ActionNotFoundError**: The server received a request for an action named `ACTION_NAME` but could not find a match. If you renamed an action, check that you’ve updated your `actions/index` file and your calling code to match.

## What went wrong?

[Section titled “What went wrong?”](#what-went-wrong)

The server received a request for an action but could not find a match with the same name.

 Error Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Can't load the Astro actions.

# Can't load the Astro actions.

> **ActionsCantBeLoaded**: An unknown error was thrown while loading the Astro actions file.

## What went wrong?

[Section titled “What went wrong?”](#what-went-wrong)

Thrown in development mode when the actions file can’t be loaded.

 Error Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Action handler returned invalid data.

# Action handler returned invalid data.

> **ActionsReturnedInvalidDataError**: Action handler returned invalid data. Handlers should return serializable data types like objects, arrays, strings, and numbers. Parse error: ERROR

## What went wrong?

[Section titled “What went wrong?”](#what-went-wrong)

Action handler returned invalid data. Handlers should return serializable data types, and cannot return a Response object.

**See Also:**

- [Actions handler reference](https://docs.astro.build/en/reference/modules/astro-actions/#handler-property)

 Error Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)

---

# Actions must be used with server output.

# Actions must be used with server output.

> **ActionsWithoutServerOutputError**: A server is required to create callable backend functions. To deploy routes to a server, add an adapter to your Astro config and configure your route for on-demand rendering

## What went wrong?

[Section titled “What went wrong?”](#what-went-wrong)

Your project must have a server output to create backend functions with Actions.

**See Also:**

- [On-demand rendering](https://docs.astro.build/en/guides/on-demand-rendering/)

 Error Reference     [Contribute](https://docs.astro.build/en/contribute/) [Community](https://astro.build/chat) [Sponsor](https://opencollective.com/astrodotbuild)
